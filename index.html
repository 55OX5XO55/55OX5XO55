<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#70B7FD"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-space.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-space.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-space.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab-space.svg" color="#70B7FD">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.13.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="醉后不知天在水,满船清梦压星河">
<meta property="og:type" content="website">
<meta property="og:title" content="space">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="space">
<meta property="og:description" content="醉后不知天在水,满船清梦压星河">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="霄剑">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>space</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<script async src="/live2d/autoload.js"> </script>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">space</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">16</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">15</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">33</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="霄剑"
      src="/images/avatar.svg">
  <p class="site-author-name" itemprop="name">霄剑</p>
  <div class="site-description" itemprop="description">醉后不知天在水,满船清梦压星河</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">33</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/55OX5XO55" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;55OX5XO55" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/2606863445@qq.com" title="E-Mail → 2606863445@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/SpringBoot/SpringBoot%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E5%92%8C%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/08/25/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/SpringBoot/SpringBoot%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E5%92%8C%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">SpringBoot源码解读和原理分析</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-08-25 21:51:05" itemprop="dateCreated datePublished" datetime="2024-08-25T21:51:05+08:00">2024-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-26 21:30:27" itemprop="dateModified" datetime="2024-08-26T21:30:27+08:00">2024-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">开发框架</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>347</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Spring-Boot整体概述"><a href="#Spring-Boot整体概述" class="headerlink" title="Spring Boot整体概述"></a>Spring Boot整体概述</h1><p><code>Spring Boot</code>是对<code>Spring Framework</code>的二次封装, 重要是为了解决<code>Spring Framework</code>中配置, 环境的部署等琐碎问题, 而只需专注与业务开发</p>
<p><code>Spring Framework</code>是一个开源的java开发框架, 它的核心是<code>IOC</code>和<code>AOP</code>, 可以更容易地构建出企业级java应用</p>
<p><code>Spring Boot</code>如何做到帮助开发者省略&#x2F;简化配置</p>
<ol>
<li>约定大于配置: <code>Spring Boot</code>对日常开发中比较常见的场景提供了默认配置</li>
<li>场景启动器starter: <code>Spring Boot</code>对常用场景进行了整合, 将这些场景中所需的依赖都收集整理到一个依赖的</li>
<li>嵌入式<code>web</code>容器: <code>Spring Boot</code>在运行时可以不依赖外部的Web容器, 而是使用内嵌嵌入式Web容器来支撑应用运行</li>
</ol>
<h1 id="Spring-Boot的自动装配"><a href="#Spring-Boot的自动装配" class="headerlink" title="Spring Boot的自动装配"></a>Spring Boot的自动装配</h1><p><code>Web</code>容器包括<code>Tomcat</code>, <code>Jetty</code>等<code>Servlet</code>容器以及<code>Netty</code>等非堵塞<code>Web</code>容器在内的所有能部署<code>Web</code>项目的应用服务器</p>
<p><code>Spring FrameWork</code>配置第三方组件有两种方式, 1. 通过配置文件; 2. 编写注解配置类. 这个过程被称为<strong>组件装配</strong></p>
<p><strong>自动装配</strong>: 框架自动根据项目中整合的场景依赖, 做出判断并装配合适的Bean到IOC容器中</p>
<h1 id="Spring-Boot的IOC容器"><a href="#Spring-Boot的IOC容器" class="headerlink" title="Spring Boot的IOC容器"></a>Spring Boot的IOC容器</h1><h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><ol>
<li>SPI</li>
<li></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/20/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Maven/maven%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/20/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Maven/maven%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">maven使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-20 10:39:01" itemprop="dateCreated datePublished" datetime="2024-07-20T10:39:01+08:00">2024-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-07-22 22:25:36" itemprop="dateModified" datetime="2024-07-22T22:25:36+08:00">2024-07-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Maven/" itemprop="url" rel="index"><span itemprop="name">Maven</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>9 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>如何使用<code>Maven</code></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/07/20/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Maven/maven%E4%BD%BF%E7%94%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/10/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E9%97%AE%E9%A2%98/Go%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/10/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E9%97%AE%E9%A2%98/Go%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">Go的问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2024-06-10 21:34:44 / 修改时间：21:40:56" itemprop="dateCreated datePublished" datetime="2024-06-10T21:34:44+08:00">2024-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/" itemprop="url" rel="index"><span itemprop="name">Go</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>25 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Go的问题"><a href="#Go的问题" class="headerlink" title="Go的问题"></a>Go的问题</h1><ol>
<li><code>itoa</code>是个什么<br>就是一个常量计数器, 只能用于<code>const</code>中. 我觉得没啥用, 一点通用性都没有, 作用也非常有限. 忘记它都可以, <code>java</code>中有这样的东西吗? 好像是有的, 叫什么生成器., 但这个有些用, 也具有通用性. </li>
<li><code>int</code>和<code>uint</code>有什么用, 已经有<code>int8</code>, <code>int16</code>, <code>int32</code>, <code>int64</code>和<code>uint</code>, <code>uint8</code>, <code>uint16</code>, <code>uint32</code>, <code>uint64</code><br><code>int</code>和<code>uint</code>应该是在程序内部自己使用的, 如果要调用外部的接口, 也就是别人包里面的东西, 肯定只能用确定位数的数字, 否则大小有可能不匹配, 会吗. <code>go</code>编译的时候应该也会把别人包里面的东西一起编译吧, 会吗? 那<code>go</code>没哟编译好的库吗? 所有的东西都要自己编译吗? <code>java</code>是怎么引入<code>jar</code>包的呢? <code>go</code>语言的包管理是真的乱, 下载的包的位置, 找包的路径, <code>go get</code>这个东西又一直在变, <code>go install</code>又是什么东西, 下载了包为什么还要自己编译, 真是吐了. <code>java</code>如何使用<code>jar</code>包呢. <code>java</code>和<code>go</code>对于编译成包, 和使用包都有些复杂, 复杂吗? 学习这些语言时, 好像都不关心这些东西? 真的不重要吗?</li>
<li>“如果是在函数外部定义, 那么将在当前包的所有文件中都可以访问”. 包是类或者类的集合, 包中还可以包含包, 包用于组织类或者结构. </li>
<li><code>go</code>语言中有声明和定义和区别吗? <code>java</code>有吗? <code>go</code>区分函数的声明和定义吗? 现在<code>go</code>函数的定义不需要出现使用之前</li>
<li><code>go</code>语言不存在未初始化的值, 无论是包级别的变量, 还是函数内部的, 都会被赋零值. 那怎么区分不存在和零值呢? 例如输入空字符串和不输入字符串</li>
<li>短变量声明只能用于函数内部吗? 为什么不能用于包级别呢? 有没有什么区别?</li>
<li>当短变量声明对某个变量进行赋值时, 这个变量在函数内还是函数外, 会决定这个是赋值, 还是声明, 这可能会导致不熟悉<code>go</code>语言的人写出<code>bug</code>. <code>java</code>没有这种赋值和定义同时进行的操作, 只能同时定义, <code>int a = 10, b = 20;</code></li>
<li>为什么<code>go</code>的可运行程序的第一个非注释行必须是<code>package main</code>? <code>go</code>语言中<code>package</code>与文件路径无关, 那它有什么用呢?</li>
<li><code>go</code>语言允许返回局部变量的地址, 且这个地址是有效的, 不会被覆盖, 这个跟<code>c</code>语言不同, <code>c</code>语言地址里面的值是会被修改, 导致不可用, 这个更像<code>java</code>中的返回函数中<code>new</code> 的对象. 看来<code>go</code>跟<code>c</code>的实现存在明显区别</li>
<li><code>java</code>没有自带的命令行参数解析库, 需要自己去下载<code>jar</code>包, 这里可以借助<code>maven</code></li>
<li>如果类型的大小为0, 例如<code>struct&#123;&#125;</code>和<code>[0]int</code>, 可能会有相同的地址, 同时<code>go</code>语言对于大小为0的结构的处理还存在问题, 那为什么不修呢</li>
<li><code>new</code>只是一个预定义的函数, 不是一个关键字, 我们因此可以将<code>new</code>名字重新定义为别的类型. 这个该说是<code>go</code>语言的有点呢, 还是确定呢? 我认为还是缺点更大一些, 反正都有别的关键字了, 多这一个也不多啊. 也可以认为<code>new</code>并不重要, 毕竟可以通过返回内部变量的地址来达到同样的效果</li>
<li><code>go</code>语言的每一行不是以分号分隔的, 有一种复杂的规则来认定一行, 值得吗, 为了省一个分号</li>
<li><code>go</code>自己判断变量是在栈上分配空间还是在堆上分配空间, 不是靠<code>new</code>来决定的, 真是增加了理解程序的难度, 和<code>c</code>语言完全不同</li>
<li><code>go</code>语言中<code>++</code>和<code>--</code>是语句, 不可以在<code>++</code>和<code>--</code>的同时再进行赋值, 而在<code>java</code>中是允许的, <code>go</code>中这种强制行为, 感觉不灵活, 应该还是缺点更多</li>
<li><code>go</code>的元组赋值(多变量同时赋值), 比起<code>java</code>多了一种选择</li>
<li><code>go</code>中返回多个值的函数, 还能用说与返回值个数的变量接收, 导致和全部接收不同的结果. 简直离谱. 例如<code>map</code>的取值操作</li>
<li><code>go</code>语言只用常量的赋值才会发生隐式类型转换吗? <code>java</code>只有数值类型的赋值和计算才会发生隐式转换, 什么是隐式转换呢?</li>
<li><code>go</code>语言中<code>type</code>的用法是<code>type 类型名字 底层类型</code>, 与<code>c</code>语言的顺序相反, <code>type</code>就是为了给类型一个别名, 就是为了增加代码可读性吗, 还可以防止类型混用</li>
<li>打印时的<code>%v</code>, <code>%s</code>, <code>%g</code>有什么区别, 为什么会有这么多种打印一个类型值的方式</li>
<li><code>float64(1.0)</code>和<code>1.0</code>虽然底层类型时相同的, 但是一个是命名了, 一个是未命名. 未命名的可以用于赋值给 相同底层数据结构的变量(运算符都是支持的)</li>
<li>直接命名基本数据类型, 还是得到运算操作, 只能说聊生于无吧</li>
<li><code>go</code>语言中一个目录下只能有一个包, 也就是说<code>package xxx</code>, <code>xxx</code>必须相同, <code>xxx</code>还会作为别的包使用这个包时带的前缀, 同一个包中可以不带前缀. 感觉跟<code>java</code>的包还是有些不同的</li>
<li><code>go moudle</code>语言对于包导入, 不再依赖<code>$GOPATH</code>, 那它从那里找包呢? <code>go mod</code>文件定义了一个模块名, 导入包时, 以这个模块名开头的路径, 会把不带模块头的路径作为相对路径, 从<code>go mod</code>文件所在文件夹, 开始找包. 感觉比<code>java</code>指定类路径的方式复杂了</li>
<li><code>go</code>包的初始化, 外部变量循环依赖怎么办, 内部包级变量循环依赖怎么办? 感觉比<code>java</code>的复杂</li>
<li>一个程序可能包含多个同名的声明, 只要它们在不同的词法域就没有关系. 这个跟<code>c</code>语言是一样的</li>
<li><code>go</code>语言中<code>if</code>语句的判断条件中可以定义变量, 而且这个变量还可以在整个<code>if</code>和<code>else</code>语句体中使用, 是一个全新的写法, 之前没有任何一种编程语言使用过这种方式, 有增加了复杂度</li>
<li><code>go</code>语言中包级别的变量按照依赖顺序进行解析和初始化, 局部变量只会按照执行顺序初始化</li>
<li><code>go</code>语言的<code>main</code>函数的参数是空, 更<code>java</code>和<code>c</code>语言不一样, 如果要使用命令行参数, 就得使用<code>go</code>自带的一个库</li>
<li><code>go</code>语句只有局部变量会检查是否被使用吗, 包级变量不会吗?</li>
<li><code>go</code>语言把数据类型分成了四类, 基础数据类型, 复合类型, 引用类型和接口类型. 字符串为什么被归为基础数据类型呢, 它不是一个数组吗. 数组为什么是复合类型, 不是引用类型?, 指针不是一个值吗, 为什么不是基础类型呢, 接口类型不是引用类型吗? <code>go</code>的数据分类的根据是什么呢, 真是看不懂</li>
<li><code>go</code>语言中<code>int</code>和<code>uint</code>的大小, 不仅和编译器, 还和平台有关系, 我们根本不知道它的大小, 我们该怎么使用它呢. 这是不是说明<code>go</code>编译的程序, 无法在32位和64位上同时运行, 需要同时编译, <code>uintptr</code>的大小也跟平台有关, 是不是用到了, 就得在特定的机器上编译呢? 那有点麻烦, 但是还好, 不用修改源码, 重新编译就行</li>
<li>为什么<code>rune</code>用<code>int32</code>作为底层, <code>byte</code>用<code>int8</code>作为底层, 一个用有符号数, 一个用符号数, 明明只是一个编码, 不关注数据的正负</li>
<li><code>go</code>语言有<code>&lt;&lt;</code>和<code>&gt;&gt;</code>, 用的是逻辑位移还是算术位移呢, <code>c</code>的呢, 反正<code>java</code>有<code>&lt;&lt;&lt;</code>和<code>&gt;&gt;&gt;</code>来做区分. <code>go</code>语言中, 在<code>x&lt;&lt;n</code>中, <code>n</code>必须是无符号数, 为什么呢, 正的有符号数不行吗? <code>go</code>语言的<code>&gt;&gt;</code>是算术左移, 但可以通过类型转换来实现首位的填充值, <code>java</code>只有有符号数所以用了两种位移来实现</li>
<li><code>go</code>语言的<code>&amp;^</code>是啥运算符, 叫做<code>AND NOT</code>, 位清空, 有什么用呢, 别的语言都没有? 通过与, 或, 非, 应该也可以实现吧</li>
<li><code>go</code>语言中<code>%</code>只能用于整数运算, <code>c</code>语言和<code>java</code>语言也是一样吗? 其实也不用管这些细枝末节的运算细节, 编程中几乎用不到, 通常只会将<code>%</code>用于正整数, 这时这个行为在任何编程语言中都是一致的, 不会有什么差别, 其他的细节, 记还容易记错</li>
<li><code>go</code>语言多次<code>import</code>一个包, 这个包会被多次初始化吗? 我认为只初始化一次比较合理, 不然没办法共享变量了</li>
<li><code>go</code>语言中<code>len</code>函数返回的是一个有符号类型, 有符号类型使逆序遍历时, 不会转换为最大的正整数而发生<code>panic</code>. 其实也对无符号数, 太容易变成最大的正整数了, 非常容易出错, 这有可能也是<code>java</code>只用有符号数的原因吧, 所以只在数值的大小没用的时候才使用无符号数, 例如位运算</li>
<li><code>go</code>语言中, <code>rune</code>变量存的是符号的码表值, 还是经过<code>UTF-8</code>编码后的值呢? 应该是码表值. <code>java</code>中也是一样</li>
<li><code>go</code>语言除以<code>float</code>变量的<code>0</code>值, 居然不报错, 真是离谱, 但是直接除以<code>0.0</code>又会报错, 就离谱</li>
<li><code>go</code>语言短变量声明的默认类型为<code>int</code>和<code>float64</code></li>
<li><code>go</code>语言<code>true</code>不会隐式转换为1, <code>false</code>也不会隐式转换为0, 反之亦然, <code>java</code>也是这样</li>
<li><code>go</code>语言中字符串是不可变的, 跟<code>java</code>是一样的, 为什么它们都是不可变的呢? 我只能想到一个原因共享提升性能</li>
<li><code>go</code>中字符串的<code>len</code>返回的是字节的个数, <code>java</code>中返回的字符的个数</li>
<li>字符串中汉字的自然编码顺序等于拼音的顺序吗? 应该是不等于, 有些非常少用的汉字, 拼音靠前, 不会在65536个常用字符中, 常用字符的编码应该是很小的</li>
<li><code>go</code>中字符串不能简单的看成字符的数组, 字符串是不可变的, 而数组是会相互影响的</li>
<li><code>go</code>的字符串支持<code>[]</code>来取值, <code>java</code>不支持<code>[]</code>, 但有<code>charAt</code>函数</li>
<li><code>go</code>支持`扩起来的原生字符串, <code>java</code>支持吗</li>
<li><code>UTF-8</code>大小为<code>1</code>到<code>4</code>字节, 那对于4位的<code>unicode</code>码点, 是不是有可能放不下呢?</li>
<li><code>go</code>语言字符串不是<code>rune</code>的数组, 直接就是<code>UTF-8</code>编码好的字节流,, 跟<code>java</code>完全不一样. 那怎么取第几个字节呢? 使用<code>utf8.DecodeRuneInString</code>来解码, 或使用<code>range</code>, <code>range</code>自动就是按字符读取的, 那我就想取第<code>i</code>个字符呢? 可以将<code>string</code>转为<code>rune</code>数组, 这丫就可以取了, 感觉<code>go</code>语言使用<code>string</code>还是好没必要, 几乎每什么用. 那要向<code>java</code>那样使用字符串, 还要利用<code>string</code>来赋值, 再转乘<code>[]rune</code>来使用, <code>rune</code>可以用字符字面量, <code>unicode</code>码点, 对于小于256的字符, 还可以使用<code>\x</code>, 好像每啥用, <code>string</code>可以字符串字面量, <code>UTF-8</code>字节序列, 和<code>unicode</code>码点序列</li>
<li><code>go</code>语言和<code>c</code>语言都有<code>scanf</code>, 但<code>java</code>没有, 但<code>java</code>应该有从字符串提取出值的办法</li>
<li><code>go</code>中每种常量的潜在类型都是基础类型, 那是说只要潜在类型为基础类型的, 就能是常量吗?</li>
<li><code>go</code>中<code>const</code>和<code>type</code>都可以使用括号来同时定义多个</li>
<li><code>go</code>中常量间的所有算术运算, 逻辑运算和比较运输的结果也是常量, 对于常量的类型转换操作或部分函数也是常数, 常数就是提升了一点可读性和性能, 好像也没有什么大作用</li>
<li><code>go</code>中通过<code>%T</code>来打印类型, <code>java</code>可以通过打印类名</li>
<li><code>go</code>语言常量也一些简化的赋值方式, 还有一个作用相当有限的<code>itoa</code>关键字来赋值, 感觉没有什么必要</li>
<li><code>go</code>中字面量称为无类型常量, 无类型常量可以自己转为声明的类型, 如果没有声明类型, 就是<code>go</code>定义的规则指定的类型, 算术运算也是同理, 这跟<code>c</code>和<code>java</code>中字面量有默认的类型不同</li>
<li>零大小的数组有什么用? 零大小的接口和数据结构对于go语言好像有bug</li>
<li><code>go</code>中<code>var a [3]int</code>和<code>var b [4]int</code>, <code>a</code>和<code>b</code>是不同类型, 不能相互赋值, 在<code>c</code>语言中也是一样. 但在<code>java</code>中长度不会导致数组类型不一样, 而且定义数组变量时, 也没有指定长度. <code>java</code>中数组怎么初始化的呢? 会有默认值吗</li>
<li><code>go</code>语言中数组的相等判断非常奇怪, 只有数据类型, 长度, 且数据类型能比较的情况下, 数组才能比较, 否则会报错. 当数据长度, 且数据值相等时, 才相等. 能比较的数据结构, 不是只有基础数据结构, 结构体支持吗</li>
<li><code>go</code>语言传递数组时, 是会挨个复制数组值的, 这个跟<code>c</code>和<code>java</code>都是不一样的. 可以说是多了一种防止修改数组的方式</li>
<li><code>go</code>对指向数组的指针是可以直接便利的, <code>ptr[i]</code>和<code>(*ptr)[i]</code>的效果是一样的, 在<code>range</code>中<code>ptr</code>和<code>(*ptr)</code>也是一样的, 这很离谱</li>
<li><code>go</code>语言数组和<code>slice</code>的语法很难区分, 只有定义的时候, <code>slice</code>的<code>[]</code>不写值, 而数组是需要指定大小或者<code>...</code>. <code>len</code>和<code>cap</code>既可以运用于数组, 也可以用于<code>slice</code>. <code>s[i:j]</code>切片操作中<code>j</code>可以超过<code>len</code>, 但不能超过<code>cap</code>, 真的无语, 切片操作可以用在数组和<code>slice</code>上, 切出来是<code>slice</code></li>
<li><code>go</code>语言的<code>slice</code>不支持比较, <code>java</code>的是支持的, <code>go</code>语言面向对象的特性太差了. 是怕<code>slice</code>自己引用自己吗, <code>java</code>不也有这种问题吗, 那为什么<code>java</code>可以比较. </li>
<li>不要用可变类型作为<code>map</code>的<code>key</code>, 无论是<code>go</code>还是<code>java</code>, <code>key</code>如果变了, <code>hash没变</code>会导致位置不变, 如果引用了同一个<code>key</code>, 会导致判断不出<code>key</code>已经存在, 或者相等. 放入<code>map</code>后, <code>key</code>的<code>hash</code>值应该是不会在变了, 不然还要<code>watch</code>, <code>key</code>的值变没有, 太消耗性能了, 这只是一个推测还没有自我验证过.</li>
<li>这本书说了两个理由, 都无法说明<code>go</code>的<code>slice</code>为啥不能比较, 吐了</li>
<li><code>slice</code>只能和<code>nil</code>比较, 可以用<code>[]int(nil)</code>或<code>nil</code>来赋值给以<code>slice</code>变量, <code>nil</code>可以赋值给指针和引用类型, 接口类型算引用类型吗, 结构体可以用<code>nil</code>赋值吗</li>
<li><code>go</code>中<code>len</code>和<code>cap</code>为0的<code>slice</code>, 就可以为<code>nil</code>, 也可以不为<code>nil</code>. 为<code>nil</code>的<code>sclie</code>底层没有引用数组,  <code>go</code>中<code>nil</code>有什么用呢???</li>
<li><code>go</code>的<code>printf</code>怎么用的, 数组怎么打印, 类型怎么打印</li>
<li><code>go</code>语言中<code>copy</code>函数就只能用于数组的复制吗? 能使用的范围太小了吧,<code>append</code>也只能用于<code>slice</code>吗</li>
<li><code>go</code>语言中<code>var x, y []int</code>可以声明多个<code>slice</code>, 那声明多个指针呢? 指针能<code>var x, y *int</code>这么写吗</li>
<li><code>go</code>语言支持可变参数, <code>java</code>支持吗? 可变参数可以用<code>slice</code>来实现, 那直接用<code>slice</code>来传参数不行吗, 就为了调用函数时写起来好看吗</li>
<li>go程序设计语言没有教<code>delete</code>的用法, 无语, 增删改查, 不应该是最重要的吗, <code>go</code>中数组删除是自己用分片来实现吗? <code>delete</code>是用来删除<code>map</code>中的元素的</li>
<li><code>go</code>语言中<code>cap</code>有必要让<code>go</code>语言使用者感知到吗? 真不知道有什么用, <code>java</code>是没有让使用者感知到的</li>
<li><code>go</code>的<code>map</code>中<code>key</code>必须是支持<code>==</code>的, 可是<code>go</code>中结构体支持<code>==</code>吗, 我认为应该必须得支持, 不然<code>map</code>也太鸡肋了, 确认了, 结构体是支持<code>==</code></li>
<li><code>go</code>中在<code>map</code>中取值时, 如果<code>key</code>不存在, 返回的是零值, 其实也只能这样, 总不能报错吧</li>
<li><code>go</code>中不能对<code>map</code>中的<code>value</code>取地址, <code>value</code>是会移动, 地址可能会随时失效. 地址的抽象程度太低了, 很容易受别的因素变化</li>
<li><code>go</code>语言中<code>map</code>的零值是<code>nil</code>, 这时<code>map</code>没有引用任何哈希表, <code>nil</code>的<code>slice</code>和空的<code>slice</code>几乎没有差别, <code>nil</code>的<code>map</code>无法添加值, 毕竟<code>append</code>函数是有能力自己创建新<code>slice</code>的</li>
<li><code>go</code>语言中<code>map</code>是无法比较的, 除了和<code>nil</code>, 这个是和<code>slice</code>是一致的. <code>java</code>中<code>List</code>和<code>Map</code>是能比较的吗</li>
<li><code>go</code>语言中<code>len</code>函数可以运用于<code>map</code></li>
<li><code>go</code>中0个值的聚合体有什么用呢? </li>
<li><code>go</code>语言中点操作符可以用于指向结构体的指针, 这是什么骚操作, 直接用<code>-&gt;</code>不好吗, 这样很容易把结构体和结构体指针弄混, <code>go</code>语言中指针是不能用<code>-&gt;</code>, 好像都没有这个操作符.</li>
<li><code>go</code>中调用函数返回的是值, 并不是一个可取地址的变量. 头一次在编程语言中听说这种说法. <code>c</code>语言会有这种问题吗? 应该会有吧, 没有验证过</li>
<li><code>go</code>中定义结构体时, 成员的顺序不同, 会导致定义的结构体不同, 那这种不同体现在哪里呢? 不是有类型名称来做区分了吗? 简直无法理解</li>
<li><code>go</code>语言中结构体的导出, 也是根据首字母的大小写来判断的, 导出能在包外访问, 没有导出的, 只能在包内访问</li>
<li><code>go</code>语言中一个命名为S的结构体类型不能再包含S类型的成员. 但是S类型的结构体可以包含<code>*S</code>指针类型的成员, <code>c</code>和<code>java</code>是怎样的呢</li>
<li><code>go</code>中为什么结构体字面量可以取地址, 而整数不行? 看不懂看不懂</li>
<li><code>go</code>语言中结构体的比较, 限制好大, 而且非常不灵活. <code>go</code>要求结构体的所有成员都必须可以比较, 而且必须全部相等, 这比<code>java</code>差太多了</li>
<li><code>go</code>的匿名成员机制, 也没有啥用呀, 就是为了使用成员时不用写出中间的成员. 如果有多个相同类型的成员呢? 而且结构体的命名还会影响导出, 又是一个鸡肋的东西. 唯一的用处可以获得匿名成员的方法, 其实可以把匿名成员当成继承来用</li>
<li>编程语言中第一类值或第一公民, 指的是能被赋值, 拥有类型的类型, <code>go</code>中函数是有类型的, <code>c</code>也是, <code>java</code>中函数只能放在<code>class</code>中, 不能被赋值啥的</li>
<li><code>go</code>中函数值的零值是<code>nil</code>, 当调用<code>nil</code>时会发生<code>panic</code>, 同时函数值是不能比较的, 只能和<code>nil</code>比较. 那是不是<code>go</code>中每种类型都要记一下能不能比较呢, 感觉容易出现混乱. 现在不能比较的是<code>slice</code>, <code>map</code>, 函数</li>
<li>匿名函数可以访问外部函数的变量, 有点像<code>java</code>的匿名类, 当访问外部变量这种用法, 还是有些高级, 不知到该用在什么地方, 不用这种高级用法, 用传参数可以吗</li>
<li>闭包是什么意思, <code>go</code>中函数值也被称为闭包, 闭包是一种很底层的概念了吧</li>
<li><code>go</code>程序设计语言举的例子都不简单, 真的垃圾</li>
<li><code>go</code>中函数值使用外部的变量的时, 非常容易出现<code>bug</code>, 使用所有值都是地址, 又是一个坑呀</li>
<li><code>go</code>中<code>Printf</code>是可变参数吗, 为什么它可以任意类型呢? 自己可变参数只能是同一类型的, <code>Printf</code>用的是<code>interface&#123;&#125;</code>类型, 这个类型有点像<code>java</code>中的<code>object</code></li>
<li>可变参数可以用<code>slice</code>来实现, 那多一种语法其实也没有什么必要, 可以看作是一种语法糖</li>
<li><code>go</code>语言中<code>defer</code>的作用跟<code>finally</code>差不多, 但是使用的位置是不同的, 同时<code>defer</code>调用的顺序是相反的. <code>defer</code>有一个很独特的操作<code>func ()()</code>, 它只会在函数结束后调用最后一个函数, 前面的函数会在使用<code>defer</code>的地方被调用. 这就实现了, 使用前调用和使用后调用的结果, 很像<code>aop</code>, <code>defer</code>能实现的东西<code>finally</code>也能实现, 但是<code>defer</code>的写法更好看一些</li>
<li>什么是异常呢? 就是调用者本应该遵守规则去使用某个函数, 但使用时却违反规则去使用. 什么时候使用<code>err</code>, 调用者遵守了规则, 但是实现者发现因为某种原因, 无法给出正确的结果. 说到底, 就是谁负责. </li>
<li><code>go</code>中结构体的成员和方法共用一个命名空间, 就是成员和方法的名称不能相同. <code>java</code>中成员方法应该是可以同名的吧</li>
<li><code>go</code>中方法可以被声明到任意类型, 只要不是一个指针或者一个<code>interface</code>, <code>interface</code>不能有方法我能理解, 毕竟自己定义时已经写了, 为什么指针也不能有方法呢? 不明白, 也许设计如此吧</li>
<li><code>go</code>中调用方法是不是有两种方式, 一种是对象<code>.</code>语法, 另一种是函数类似的调用, 用第一参数作为对象, 应该是有两种的. 为什么有两种呢? 第一种是第二种的语法糖, 这是我认为的, 其实也是非常合理的</li>
<li><code>go</code>语言中指针可以调用类型的方法, 类型也可以调用指针的方法前提是它是变量, 不是字面量, 那为什么地址字面量可以调用类型的方法呢? 到底什么是字面量啊), 这当中<code>go</code>会存在隐式转换, 语法糖太多了, 让初学者很困惑, 垃圾. 如果指针和类型, 都声明了同名称方法, 这样会有什么后果, 或者这样是在同一个命名中的. 应该是在同一个命名空间中的吧. 验证出来, 是在同一个命名空间中的, 这样挺合理, 不然就太混乱了 </li>
<li><code>go</code>语言允许类型的<code>nil</code>来调用方法, 跟<code>java</code>不一样, <code>java</code>会报空指针异常的</li>
<li><code>go</code>中结构体除了能内嵌类型, 还能内嵌指针, 内嵌指针有什么用呢? 其实没有什么区别, 除了利用指针可以共享同一个对象.</li>
<li><code>go</code>中除了匿名函数, 还有匿名结构, 但是匿名结构没有地方也方法, 不像<code>java</code>匿名类可以在块中写方法. 但是<code>go</code>匿名结构中匿名成员能带来一些方法, 算是一种有效的弥补手段吧. 匿名函数和匿名结构, 一般什么时候会用呢? 一个函数或结构只会被用一次时, 可以懒得取方法, 还是非常有用的, 取名字可太麻烦了</li>
<li><code>go</code>中接口是隐式实现的, <code>java</code>中需要自己写明, 这两个有什么区别呢? 隐式可以让旧的类实现新实现的方, 但是<code>java</code>可以用适配器模式来实现, 说到底, 其实也没有啥区别是吗? 就是稍微方便点</li>
<li>面向接口编程是指导思想, <code>LSP</code>是面向接口编程的实现的要求和规则</li>
<li><code>go</code>中<code>for</code>循环对于<code>string</code>有特殊的操作, <code>slice</code>和<code>string</code>也有特殊操作, <code>[]byte(&quot;霄剑&quot;)</code>可以直接变成<code>UTF8</code>编码的字节<code>slice</code></li>
<li><code>go</code>中结构体和接口都有内嵌语法, 还有别的类型有这种语法吗? </li>
<li><code>go</code>值接收器和指针接收器有很多不同的, 太坑了. 既然值接收器会生成一个指针接收器的方法, 那为啥用指针类型调用方法时, 还要编译器来解引用呢? 不是已经生成了指针接收器的方法了吗? 搞不懂</li>
<li><code>go</code>语言中匿名结构体可以有相同名称的方法, 例如<code>String</code>方法, 如果有两个匿名结构体都有<code>String</code>方法, 编译会报错, 这个有点像多继承带来的问题</li>
<li><code>go</code>语言结构体字面量可以取地址, <code>c</code>语言不行, 我认为这应该又是<code>go</code>语言的语法糖</li>
<li><code>go</code>中接口是可以比较的, 但是接口的动态类型不能比较的话, 会报<code>panic</code>, 还有一个问题, 接口比较有什么用呢? 这又是什么骚操作</li>
<li><code>go</code>中实现排序需要实现三个方法, <code>java</code>中只需要实现一个方法, <code>c</code>语言中是怎么实现的呢? </li>
<li><code>go</code>中类型断言和转型的语法很像. <code>x.(T)</code>和<code>T(x)</code>, 真的像. 类型断言中<code>x</code>只能是接口, <code>T</code>可以是接口或者类型. 当<code>x</code>为<code>nil</code>时, 会报<code>panic</code>. 类型断言是反多态的, 在<code>java</code>中是非常不值得推荐的. <code>go</code>却非常推荐, 我觉得应该时不值得推荐的, 毕竟违反了多态,当然特例情况也是存在的, 具体类型有更好解决方案时, 可以使用断言</li>
<li>子类型多态和非参数多态(可识别联合), 子类型多态是抽象, 隐藏细节, 而非参数多态是将接口强制转成特定类型, 那在<code>java</code>中是不是把<code>object</code>接收值再转成各种类型, 只能说很像, 这种做法面向对象不是不提倡吗? 也不是面向对象编程的使用接口的目的, 真是各种用法都有, 只要有用就行. 这种用法在<code>go</code>语言中有一种语法来支持, 叫类型开关, <code>x.(type)</code>, <code>java</code>中有类似的语法吗? </li>
<li>类型开关在单一类型的<code>case</code>内部, 才会进行类型转换, 在其他情况下都是没有转换之前的值. 行为挺奇怪的</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/28/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/28/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" class="post-title-link" itemprop="url">单例设计模式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-28 19:52:02" itemprop="dateCreated datePublished" datetime="2024-01-28T19:52:02+08:00">2024-01-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-03-06 23:05:05" itemprop="dateModified" datetime="2024-03-06T23:05:05+08:00">2024-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/" itemprop="url" rel="index"><span itemprop="name">编程思想</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">设计模式</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>173</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li>为什么要使用单例模式</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/01/28/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0(pytorch)/%E5%BC%95%E8%A8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/24/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%8A%A8%E6%89%8B%E5%AD%A6%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0(pytorch)/%E5%BC%95%E8%A8%80/" class="post-title-link" itemprop="url">引言</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-12-24 22:33:39 / 修改时间：22:34:48" itemprop="dateCreated datePublished" datetime="2023-12-24T22:33:39+08:00">2023-12-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" itemprop="url" rel="index"><span itemprop="name">人工智能</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">深度学习</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>0</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id=""><a href="#" class="headerlink" title=""></a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/26/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E/%E8%AF%84%E4%BB%B7%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E7%9A%84%E6%A0%87%E5%87%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/11/26/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E/%E8%AF%84%E4%BB%B7%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E7%9A%84%E6%A0%87%E5%87%86/" class="post-title-link" itemprop="url">评价代码质量的标准</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-11-26 17:56:21" itemprop="dateCreated datePublished" datetime="2023-11-26T17:56:21+08:00">2023-11-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-09-08 21:56:45" itemprop="dateModified" datetime="2024-09-08T21:56:45+08:00">2024-09-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/" itemprop="url" rel="index"><span itemprop="name">编程思想</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">设计模式</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>10k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>37 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li>为什么要学习设计模式</li>
<li>如何评价代码的好坏</li>
<li>什么是设计原则, 常用的设计原则有哪些</li>
<li>面向对象, 设计原则, 设计模式, 编程规范, 重构有何关系</li>
<li>什么是面向对象编程和面向对象编程语言</li>
<li>如何判定一门语言是否是面向对象编程语言</li>
<li>面向对象编程和面向对象编程之间的关系</li>
<li>什么是面向对象分析和面向对象设计</li>
<li>面向对象的四大特性是什么, 它们的作用分别是什么</li>
<li>什么是面向过程编程和面向过程编程语言</li>
<li>面向对象编程相比面向过程有哪些优势</li>
<li>有在开发过程中, 有哪些操作是在进行面向过程编程</li>
<li>为什么在面向对象编程时, 容易写出面向过程的代码</li>
<li>面向过程编程就真的没有用了吗</li>
<li>抽象类和接口有什么区别? 分别是为了解决什么问题</li>
<li>如何用抽象类和普通类模拟接口</li>
<li>如何决定该用抽象类还是接口</li>
<li>如何理解”基于接口而非实现编程”中”接口”二字</li>
<li>如何定义一个好的接口</li>
<li>是否需要为每个类定义接口</li>
<li>为什么不推荐继承</li>
<li>什么是基于贫血模型的开发模式</li>
<li>什么是基于充血模型的开发模式</li>
<li>什么是重放攻击</li>
<li>如何面向对象分析和设计</li>
<li>如何判断类的职责是否足够单一</li>
<li>判断类的职责是否单一的几个技巧</li>
<li>类的职责是否设计得越单一越好</li>
<li>如何理解”对扩展开放, 修改关闭”</li>
<li>如何理解”里氏替换”</li>
<li>“里氏替换”的目的</li>
<li>如何理解”接口隔离原则”</li>
<li>“接口隔离原则”的三种应用</li>
<li>什么是”控制反转”</li>
<li>什么是”依赖注入”</li>
<li>什么是”依赖注入框架”</li>
<li>怎么理解”依赖反转原则”</li>
<li>什么是<code>KISS</code>原则和<code>YANGI</code>原则</li>
<li>如何提高代码复用性</li>
<li>什么是”高内聚”和”松耦合”</li>
<li>“高内聚”和”松耦合”之间的关系</li>
<li>什么是”迪米特法则”</li>
<li>如何实践”高内聚”和”松耦合”</li>
<li>为什么要重构, 重构的对象是什么, 什么时候进行重构</li>
<li>什么是单元测试, 为什么要编写单元测试</li>
<li>什么是代码的可测试性, 常见的测试性不友好的代码</li>
<li>“解耦”为什么非常重要</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/11/26/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%BE%8E/%E8%AF%84%E4%BB%B7%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E7%9A%84%E6%A0%87%E5%87%86/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/06/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/Kubernetes_In_Action/%E4%BF%9D%E9%9A%9C%E9%9B%86%E7%BE%A4%E5%86%85%E8%8A%82%E7%82%B9%E5%92%8C%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/06/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/Kubernetes_In_Action/%E4%BF%9D%E9%9A%9C%E9%9B%86%E7%BE%A4%E5%86%85%E8%8A%82%E7%82%B9%E5%92%8C%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" class="post-title-link" itemprop="url">保障集群内节点和网络安全</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-10-06 19:51:15" itemprop="dateCreated datePublished" datetime="2023-10-06T19:51:15+08:00">2023-10-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-11-08 23:16:26" itemprop="dateModified" datetime="2023-11-08T23:16:26+08:00">2023-11-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/" itemprop="url" rel="index"><span itemprop="name">Kubernetes</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <span id="more"></span>

<h1 id="保障集群内节点和网络安全"><a href="#保障集群内节点和网络安全" class="headerlink" title="保障集群内节点和网络安全"></a>保障集群内节点和网络安全</h1><h2 id="在pod中使用宿主节点的Linux命名空间"><a href="#在pod中使用宿主节点的Linux命名空间" class="headerlink" title="在pod中使用宿主节点的Linux命名空间"></a>在<code>pod</code>中使用宿主节点的<code>Linux</code>命名空间</h2><p>部分<code>pod</code>(特别是系统<code>pod</code>)需要在宿主节点的默认命名空间中运行, 以允许它们看到和操作节点级别的资源和设备. </p>
<h3 id="绑定宿主节点上的端口而不使用宿主节点的网络命名空间"><a href="#绑定宿主节点上的端口而不使用宿主节点的网络命名空间" class="headerlink" title="绑定宿主节点上的端口而不使用宿主节点的网络命名空间"></a>绑定宿主节点上的端口而不使用宿主节点的网络命名空间</h3><p>这可以通过配置<code>pod</code>的<code>spec.containers.ports</code>字段中某个容器某一个端口的<code>hostPort</code>属性来实现. </p>
<p>如果一个<code>pod</code>绑定了宿主节点上的一个特定端口, 每个宿主节点只能调度一个这样的<code>pod</code>实例, 因为两个进程不能绑定宿主机上的同一个端口. 调度器在调度<code>pod</code>时会考虑这一点, 所以它不会把这样的两个<code>pod</code>调度到同一个节点上. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">some/image</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&lt;pod的名称&gt;</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">hostPort:</span> <span class="number">9000</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure>

<p><code>hostPort</code>功能最初是用于暴露通过<code>DeamonSet</code>部署在每个节点上的系统服务的. </p>
<h2 id="配置节点的安全上下文"><a href="#配置节点的安全上下文" class="headerlink" title="配置节点的安全上下文"></a>配置节点的安全上下文</h2><p>安全上下文中可配置的内容:</p>
<ul>
<li>指定容器中运行进程的用户(用户<code>ID</code>)</li>
<li>阻止容器使用<code>root</code>用于运行(容器的默认运行用户通常在其镜像中指定, 所以可能需要阻止容器以<code>root</code>用户运行)</li>
<li>使用特权模式运行容器, 使其对宿主节点的内核具有完全的访问权限</li>
<li>与以上相反, 通过添加或禁用内容功能, 配置细粒度的内核访问权限</li>
<li>设置<code>SELinux</code>选项, 加强对容器的限制</li>
<li>阻止进程写入容器的根文件系统</li>
</ul>
<h3 id="使用指定用户运行容器"><a href="#使用指定用户运行容器" class="headerlink" title="使用指定用户运行容器"></a>使用指定用户运行容器</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sleep&quot;</span>, <span class="string">&quot;999999&quot;</span>]</span><br><span class="line">    <span class="attr">securityContext:</span></span><br><span class="line">      <span class="attr">runAsUser:</span> <span class="number">405</span></span><br></pre></td></tr></table></figure>

<h3 id="阻止容器以root用户运行"><a href="#阻止容器以root用户运行" class="headerlink" title="阻止容器以root用户运行"></a>阻止容器以<code>root</code>用户运行</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sleep&quot;</span>, <span class="string">&quot;999999&quot;</span>]</span><br><span class="line">    <span class="attr">securityContext:</span></span><br><span class="line">      <span class="attr">runAsNonRoot:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="使用特权模式运行pod"><a href="#使用特权模式运行pod" class="headerlink" title="使用特权模式运行pod"></a>使用特权模式运行<code>pod</code></h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sleep&quot;</span>, <span class="string">&quot;999999&quot;</span>]</span><br><span class="line">    <span class="attr">securityContext:</span></span><br><span class="line">      <span class="attr">privileged:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="为容器单独添加内核功能"><a href="#为容器单独添加内核功能" class="headerlink" title="为容器单独添加内核功能"></a>为容器单独添加内核功能</h3><p>相比于让容器运行在特权模式下以给予其无限的权限, 一个更加安全地做法是只给予它使用真正需要的内核功能的权限. <code>Kubernetes</code>允许为特定的容器添加内核功能, 或禁止部分内核功能, 以允许对容器进行更加细致的权限控制, 限制攻击者潜在侵入的影响. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sleep&quot;</span>, <span class="string">&quot;999999&quot;</span>]</span><br><span class="line">    <span class="attr">securityContext:</span></span><br><span class="line">      <span class="attr">add:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">SYS_TIME</span></span><br></pre></td></tr></table></figure>

<h3 id="在容器中禁用内核功能"><a href="#在容器中禁用内核功能" class="headerlink" title="在容器中禁用内核功能"></a>在容器中禁用内核功能</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sleep&quot;</span>, <span class="string">&quot;999999&quot;</span>]</span><br><span class="line">    <span class="attr">securityContext:</span></span><br><span class="line">      <span class="attr">drop:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">CHOWN</span></span><br></pre></td></tr></table></figure>

<h3 id="阻止对容器跟文件系统的写入"><a href="#阻止对容器跟文件系统的写入" class="headerlink" title="阻止对容器跟文件系统的写入"></a>阻止对容器跟文件系统的写入</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">alpine</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sleep&quot;</span>, <span class="string">&quot;999999&quot;</span>]</span><br><span class="line">    <span class="attr">securityContext:</span></span><br><span class="line">      <span class="attr">readOnlyRootFilesystem:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="容器使用不同用户时共享存储卷"><a href="#容器使用不同用户时共享存储卷" class="headerlink" title="容器使用不同用户时共享存储卷"></a>容器使用不同用户时共享存储卷</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">securityContext:</span></span><br><span class="line">    <span class="attr">fsGroup:</span> <span class="number">555</span></span><br><span class="line">    <span class="attr">supplementalGroups:</span> [<span class="number">666</span>, <span class="number">777</span>]</span><br></pre></td></tr></table></figure>

<h2 id="限制pod使用安全相关的特性"><a href="#限制pod使用安全相关的特性" class="headerlink" title="限制pod使用安全相关的特性"></a>限制<code>pod</code>使用安全相关的特性</h2><h3 id="PodSecurityPolicy资源介绍"><a href="#PodSecurityPolicy资源介绍" class="headerlink" title="PodSecurityPolicy资源介绍"></a><code>PodSecurityPolicy</code>资源介绍</h3><p><code>PodSecuriyPolicy</code>是一种集群级别(无命名空间)的资源, 它定义了用户能否在<code>pod</code>中使用各种安全相关的特性. 维护<code>PodSecurityPolicy</code>资源中配置策略的工作由集成在<code>API</code>服务器中的<code>PodSercurityPolicy</code>准入控制插件完成. </p>
<h4 id="PodSecurityPolicy可以做的事"><a href="#PodSecurityPolicy可以做的事" class="headerlink" title="PodSecurityPolicy可以做的事"></a><code>PodSecurityPolicy</code>可以做的事</h4><ul>
<li>是否允许<code>pod</code>使用宿主节点的<code>PID</code>, <code>IPC</code>, 网络命名空间</li>
<li><code>pod</code>允许绑定的宿主节点的端口</li>
<li>容器运行时允许使用的用户<code>ID</code></li>
<li>是否允许拥有特权模式容器的<code>pod</code></li>
<li>允许添加哪些内核功能, 默认添加哪些内核功能, 总是禁用哪些内核功能</li>
<li>允许容器使用哪些<code>SELinux</code>选项</li>
<li>容器是否允许使用可写的根文件系统</li>
<li>允许容器在哪些文件系统组下运行</li>
<li>允许<code>pod</code>使用哪些类型的存储卷</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">extensions/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PodSecurityPolicy</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">hostIPC:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hostPID:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hostNetwork:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hostPorts:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">min:</span> <span class="number">10000</span></span><br><span class="line">    <span class="attr">max:</span> <span class="number">11000</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">min:</span> <span class="number">13000</span></span><br><span class="line">    <span class="attr">max:</span> <span class="number">14000</span></span><br><span class="line">  <span class="attr">privileged:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">readOnlyRootFilesystem:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">runAsUser:</span></span><br><span class="line">  	<span class="attr">rule:</span> <span class="string">RunAsAny</span></span><br><span class="line">  <span class="attr">fsGroup:</span></span><br><span class="line">    <span class="attr">rule:</span> <span class="string">RunAsAny</span></span><br><span class="line">  <span class="attr">supplementalGroups:</span></span><br><span class="line">    <span class="attr">rule:</span> <span class="string">RunAsAny</span></span><br><span class="line">  <span class="attr">seLinux:</span></span><br><span class="line">    <span class="attr">rule:</span> <span class="string">RunAsAny</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;*&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="了解runAsUser-fsGroup和supplementGroup策略"><a href="#了解runAsUser-fsGroup和supplementGroup策略" class="headerlink" title="了解runAsUser, fsGroup和supplementGroup策略"></a>了解<code>runAsUser</code>, <code>fsGroup</code>和<code>supplementGroup</code>策略</h3><p>如果需要限制容器可以使用的用户和用户组<code>ID</code>, 可以将规则改为<code>MustRunAs</code>, 并指定允许使用的<code>ID</code>范围. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">runAsUser:</span></span><br><span class="line">  <span class="attr">rule:</span> <span class="string">MustRunAs</span></span><br><span class="line">  <span class="attr">ranges:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">min:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">max:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">fsGroup:</span></span><br><span class="line">  <span class="attr">rule:</span> <span class="string">MustRunAs</span></span><br><span class="line">  <span class="attr">ranges:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">min:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">max:</span> <span class="number">10</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">min:</span> <span class="number">20</span></span><br><span class="line">    <span class="attr">max:</span> <span class="number">30</span></span><br><span class="line"><span class="attr">supplementalGroups:</span></span><br><span class="line">  <span class="attr">rule:</span> <span class="string">MustRunAs</span></span><br><span class="line">  <span class="attr">ranges:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">min:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">max:</span> <span class="number">10</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">min:</span> <span class="number">20</span></span><br><span class="line">    <span class="attr">max:</span> <span class="number">30</span></span><br></pre></td></tr></table></figure>

<p>如果<code>pod spec</code>试图将其中的任一字段设置为该范围之外的值, 这个<code>pod</code>将不会被<code>API</code>服务器接收. </p>
<h4 id="部署镜像中用户ID在指定范围之外的pod"><a href="#部署镜像中用户ID在指定范围之外的pod" class="headerlink" title="部署镜像中用户ID在指定范围之外的pod"></a>部署镜像中用户<code>ID</code>在指定范围之外的<code>pod</code></h4><p><code>PodSecurityPolicy</code>会将硬编码覆盖到镜像中的用户<code>ID</code>. </p>
<h4 id="在runAsUser字段中使用mustRunAsNonRoot规则"><a href="#在runAsUser字段中使用mustRunAsNonRoot规则" class="headerlink" title="在runAsUser字段中使用mustRunAsNonRoot规则"></a>在<code>runAsUser</code>字段中使用<code>mustRunAsNonRoot</code>规则</h4><p><code>runAsUser</code>字段中还可以使用另一种规则: <code>mustRunAsNonRoot</code>. 它将阻止用户部署以<code>root</code>用户运行的容器. 在这种情况下, <code>spec</code>容器中必须指定<code>runAsUser</code>字段, 并且不能为0, 或者容器的镜像本身指定了一个用非0的用户<code>ID</code>运行. </p>
<h3 id="配置允许-默认添加-禁止使用的内核功能"><a href="#配置允许-默认添加-禁止使用的内核功能" class="headerlink" title="配置允许, 默认添加, 禁止使用的内核功能"></a>配置允许, 默认添加, 禁止使用的内核功能</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">extensions/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PodSecurityPolicy</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="string">allowedCapabilities</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">SYS_TIME</span></span><br><span class="line">  <span class="string">defaultAddCapabilities</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">CHOWN</span></span><br><span class="line">  <span class="string">requiredDropCapabilities</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">SYS_ADMIN</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">SYS_MODULES</span></span><br></pre></td></tr></table></figure>

<h3 id="对不同的用户与组分配不同的PodSecurityPolicy"><a href="#对不同的用户与组分配不同的PodSecurityPolicy" class="headerlink" title="对不同的用户与组分配不同的PodSecurityPolicy"></a>对不同的用户与组分配不同的<code>PodSecurityPolicy</code></h3><p><code>PodSecurityPolicy</code>是集群级别的资源, 这意味着它不能存储和应用在某一特定的命名空间上. 对不同用户分配不同<code>PodSecurityPolicy</code>是通过<code>RBAC</code>机制实现的. 这个方式是, 创建你需要的<code>PodSecurityPolicy</code>资源, 然后创建<code>ClusterRole</code>资源并通过名称将它们指向不同的策略, 以此使<code>PodSecurityPolicy</code>资源中的策略对不同的用户或组生效. 通过<code>ClusterRoleBinding</code>资源将特定的用户组绑定到<code>ClusterRole</code>上, 当<code>PodSecurityPolicy</code>访问控制插件需要决定是否接纳一个<code>pod</code>时, 它只会考虑创建<code>pod</code>的用户可以访问到的<code>PodSecurityPolicy</code>中的策略. </p>
<h2 id="隔离pod的网络"><a href="#隔离pod的网络" class="headerlink" title="隔离pod的网络"></a>隔离<code>pod</code>的网络</h2><p>一个<code>NetworkPolicy</code>会应用在匹配它的标签选择器的<code>pod</code>上, 指明这些允许访问这些<code>pod</code>的源地址, 或这些<code>pod</code>可以访问的目标地址. 这些分别由入向<code>ingress</code>和出向<code>egress</code>规则指定. 这两种规则都可以匹配由标签选择器选出的<code>pod</code>, 或者一个<code>namespace</code>中的所有<code>pod</code>, 或者通过无类别域间路由(<code>CIDR</code>)指定的<code>IP</code>地址段. </p>
<h4 id="在一个命名空间中阻止所有访问"><a href="#在一个命名空间中阻止所有访问" class="headerlink" title="在一个命名空间中阻止所有访问"></a>在一个命名空间中阻止所有访问</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">NetworkPolicy</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">default-deny</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">podSelector:</span></span><br></pre></td></tr></table></figure>

<p>空的标签选择器匹配命名空间中的所有<code>pod</code>. </p>
<h4 id="允许同一命名空间中的部分pod访问一个服务端pod"><a href="#允许同一命名空间中的部分pod访问一个服务端pod" class="headerlink" title="允许同一命名空间中的部分pod访问一个服务端pod"></a>允许同一命名空间中的部分<code>pod</code>访问一个服务端<code>pod</code></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">NetworkPolicy</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">postgres-netpolicy</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">podSelector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">database</span></span><br><span class="line">  <span class="attr">ingress:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">from:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">podSelector:</span></span><br><span class="line">        <span class="attr">matchLabels:</span></span><br><span class="line">          <span class="attr">app:</span> <span class="string">webserver</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">5432</span></span><br></pre></td></tr></table></figure>

<h4 id="在不同Kubernetes命名空间之间进行网络隔离"><a href="#在不同Kubernetes命名空间之间进行网络隔离" class="headerlink" title="在不同Kubernetes命名空间之间进行网络隔离"></a>在不同<code>Kubernetes</code>命名空间之间进行网络隔离</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">NetworkPolicy</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">shoppingcart-netpolicy</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">podSelector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">shopping-cart</span></span><br><span class="line">  <span class="attr">ingress:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">from:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">namespaceSelector:</span></span><br><span class="line">        <span class="attr">matchLabels:</span></span><br><span class="line">          <span class="attr">tenant:</span> <span class="string">manning</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure>

<h4 id="使用CIDR隔离网络"><a href="#使用CIDR隔离网络" class="headerlink" title="使用CIDR隔离网络"></a>使用<code>CIDR</code>隔离网络</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ingress:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">from:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">ipBlock:</span></span><br><span class="line">      <span class="attr">cidr:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.0</span><span class="string">/24</span></span><br></pre></td></tr></table></figure>

<h4 id="限制pod的对外访问流量"><a href="#限制pod的对外访问流量" class="headerlink" title="限制pod的对外访问流量"></a>限制<code>pod</code>的对外访问流量</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">podSelector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">webserver</span></span><br><span class="line">  <span class="attr">egress:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">to:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">podSelector:</span></span><br><span class="line">        <span class="attr">matchLabels:</span></span><br><span class="line">          <span class="attr">app:</span> <span class="string">database</span></span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/06/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/Kubernetes_In_Action/%E4%BB%8E%E5%BA%94%E7%94%A8%E8%AE%BF%E9%97%AEpod%E5%85%83%E6%95%B0%E6%8D%AE%E4%BB%A5%E5%8F%8A%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/06/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/Kubernetes_In_Action/%E4%BB%8E%E5%BA%94%E7%94%A8%E8%AE%BF%E9%97%AEpod%E5%85%83%E6%95%B0%E6%8D%AE%E4%BB%A5%E5%8F%8A%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90/" class="post-title-link" itemprop="url">从应用访问pod元数据以及其他资源</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-10-06 13:40:54 / 修改时间：19:46:20" itemprop="dateCreated datePublished" datetime="2023-10-06T13:40:54+08:00">2023-10-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/" itemprop="url" rel="index"><span itemprop="name">Kubernetes</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>16</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <span id="more"></span>

<h1 id="从应用访问pod元数据以及其他资源"><a href="#从应用访问pod元数据以及其他资源" class="headerlink" title="从应用访问pod元数据以及其他资源"></a>从应用访问<code>pod</code>元数据以及其他资源</h1>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/05/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/Kubernetes_In_Action/ConfigMap%E5%92%8CSecret/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/05/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/Kubernetes_In_Action/ConfigMap%E5%92%8CSecret/" class="post-title-link" itemprop="url">ConfigMap和Secret</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-10-05 21:42:15" itemprop="dateCreated datePublished" datetime="2023-10-05T21:42:15+08:00">2023-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-11-08 23:02:49" itemprop="dateModified" datetime="2023-11-08T23:02:49+08:00">2023-11-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/" itemprop="url" rel="index"><span itemprop="name">Kubernetes</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>8 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <span id="more"></span>

<h1 id="ConfigMap和Secret"><a href="#ConfigMap和Secret" class="headerlink" title="ConfigMap和Secret"></a><code>ConfigMap</code>和<code>Secret</code></h1><h2 id="向容器传递命令行参数"><a href="#向容器传递命令行参数" class="headerlink" title="向容器传递命令行参数"></a>向容器传递命令行参数</h2><h3 id="在Docker中定义命令与参数"><a href="#在Docker中定义命令与参数" class="headerlink" title="在Docker中定义命令与参数"></a>在<code>Docker</code>中定义命令与参数</h3><p>容器中运行的完整指令由两部分组成, 命令与参数. </p>
<h4 id="了解ENTRYPOINT与CMD"><a href="#了解ENTRYPOINT与CMD" class="headerlink" title="了解ENTRYPOINT与CMD"></a>了解<code>ENTRYPOINT</code>与<code>CMD</code></h4><p><code>ENTRYPOINT</code>定义容器启动时被调用的可执行程序. </p>
<p><code>CMD</code>指定传递给<code>ENTRYPOINT</code>的参数. </p>
<h4 id="了解shell与exec形式的区别"><a href="#了解shell与exec形式的区别" class="headerlink" title="了解shell与exec形式的区别"></a>了解<code>shell</code>与<code>exec</code>形式的区别</h4><p><code>shell</code>形式–如<code>ENTRYPOINT node app.js</code>. </p>
<p><code>exec</code>形式– 如<code>ENTRYPONT [&quot;node&quot;, &quot;app.js&quot;]</code>. </p>
<p>两者的区别在于指定的命令是否在<code>shell</code>中被调用, 确定<code>PID</code>为1的进程是谁. </p>
<h3 id="在Kubernetes中覆盖命令和参数"><a href="#在Kubernetes中覆盖命令和参数" class="headerlink" title="在Kubernetes中覆盖命令和参数"></a>在<code>Kubernetes</code>中覆盖命令和参数</h3><p>在<code>Kubernetes</code>中定义容器时, 镜像的<code>ENTRYPOINT</code>和<code>CMD</code>均可以被覆盖, 仅需要在容器定义中设置属性<code>command</code>和<code>args</code>的值. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">some/image</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/command&quot;</span>]</span><br><span class="line">    <span class="attr">args:</span> [<span class="string">&quot;args1&quot;</span>, <span class="string">&quot;args2&quot;</span>, <span class="string">&quot;args3&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>绝大多数情况下, 只需要设置自定义参数. 命令一般很少被覆盖, 除非针对一些未定义<code>ENTRYPINT</code>的通用镜像, 例如<code>busybox</code>. </p>
<p><code>command</code>和<code>args</code>字段在<code>pod</code>创建后无法被修改. </p>
<h2 id="为容器设置环境变量"><a href="#为容器设置环境变量" class="headerlink" title="为容器设置环境变量"></a>为容器设置环境变量</h2><p><code>Kubernetes</code>允许为<code>pod</code>中每一个容器都指定自定义的环境变量集合. </p>
<p>与容器的命令和参数设置相同, 环境变量列表无法在<code>pod</code>创建后被修改. </p>
<h3 id="在容器定义中指定环境变量"><a href="#在容器定义中指定环境变量" class="headerlink" title="在容器定义中指定环境变量"></a>在容器定义中指定环境变量</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">luksa/fortune:env</span></span><br><span class="line">    <span class="attr">env:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">INTERVAL</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">&quot;30&quot;</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">html-generator</span></span><br></pre></td></tr></table></figure>

<p>在每个容器中, <code>Kubernetes</code>会自动暴露相同命名空间下每个<code>service</code>对应的黄金变量. 这些环境变量基本上可以被看作自动注入的配置. </p>
<h3 id="了解硬编码环境变量的不足之处"><a href="#了解硬编码环境变量的不足之处" class="headerlink" title="了解硬编码环境变量的不足之处"></a>了解硬编码环境变量的不足之处</h3><p><code>pod</code>定义硬编码意味着需要有效区分生产环境与开发过程中的<code>pod</code>定义. 为了能在多个环境下复用<code>pod</code>的定义, 需要将配置从<code>pod</code>定义描述中解耦出来. </p>
<h2 id="利用ConfigMap解耦配置"><a href="#利用ConfigMap解耦配置" class="headerlink" title="利用ConfigMap解耦配置"></a>利用<code>ConfigMap</code>解耦配置</h2><p>应用配置的关键在于能够在多个环境中区分配置选项, 将配置从应用程序源码中分离, 可频繁变更配置值. </p>
<h3 id="ConfigMap介绍"><a href="#ConfigMap介绍" class="headerlink" title="ConfigMap介绍"></a><code>ConfigMap</code>介绍</h3><p><code>Kubernetes</code>允许将配置选项分离到单独的资源对象<code>ConfigMap</code>中, 本质上就是一个键<code>/</code>值对映射, 值可以是短字面量, 也可以是完整的配置文件. </p>
<p>应用无须直接读取<code>ConfigMap</code>, 甚至根本不需要知道其是否存在. 映射的内容通过环境变量或者卷文件的形式传递给容器, 而非直接传递给容器. 命令行参数的定义中可以通过<code>$(ENV_VAR)</code>语法引用环境变量, 因而可以达到将<code>ConfigMap</code>条目当作命令行参数传递给进程的效果. </p>
<p>当然, 应用程序同样可以通过<code>Kubernetes Rest API</code>按需直接读取<code>ConfigMap</code>的内容. 不过除非是需求如此, 应尽可能使你的应用保持对<code>Kubernetes</code>的无感知. </p>
<h3 id="创建ConfigMap"><a href="#创建ConfigMap" class="headerlink" title="创建ConfigMap"></a>创建<code>ConfigMap</code></h3><h4 id="使用指令kubectl创建ConfigMap"><a href="#使用指令kubectl创建ConfigMap" class="headerlink" title="使用指令kubectl创建ConfigMap"></a>使用指令<code>kubectl</code>创建<code>ConfigMap</code></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create configmap &lt;configMap的名字&gt; --from-literal=&lt;键&gt;=&lt;值&gt;</span><br></pre></td></tr></table></figure>

<p>键只能包含数字, 字母, 破折号, 下画线以及圆点. <code>--from-literal</code>参数用于指定多个条目. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">&lt;configMap的名字&gt;</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="string">&lt;键&gt;:</span> <span class="string">&lt;值&gt;</span> </span><br></pre></td></tr></table></figure>

<h4 id="从文件内容创建ConfigMap条目"><a href="#从文件内容创建ConfigMap条目" class="headerlink" title="从文件内容创建ConfigMap条目"></a>从文件内容创建<code>ConfigMap</code>条目</h4><p><code>ConfigMap</code>同样可以存储粗粒度的配置数据, 比如完整的配置文件. </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create configmap &lt;configmap的名字&gt; --from-file=&lt;配置文件名&gt;</span><br></pre></td></tr></table></figure>

<p>运行上述命令时, <code>kubectl</code>会在当前目录下查找配置文件, 并将文件内容存储在<code>ConfigMap</code>中以配置文件名为键名的条目下. 也可以手动指定键名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create configmap &lt;configmap的名字&gt; --from-file=&lt;键&gt;=&lt;配置文件名&gt;</span><br></pre></td></tr></table></figure>

<h4 id="从文件夹创建ConfigMap"><a href="#从文件夹创建ConfigMap" class="headerlink" title="从文件夹创建ConfigMap"></a>从文件夹创建<code>ConfigMap</code></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create configmap &lt;configmap的名字&gt; --from-file=/path/to/dir</span><br></pre></td></tr></table></figure>

<p>这种情况下, <code>kubectl</code>会为文件夹中的每个文件单独创建条目, 仅限于那些文件名可作为合法<code>ConfigMap</code>键名的文件. </p>
<h3 id="给容器传递ConfigMap条目作为环境变量"><a href="#给容器传递ConfigMap条目作为环境变量" class="headerlink" title="给容器传递ConfigMap条目作为环境变量"></a>给容器传递<code>ConfigMap</code>条目作为环境变量</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span> </span><br><span class="line">  <span class="attr">name:</span> <span class="string">&lt;Pod名称&gt;</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">some/image</span></span><br><span class="line">    <span class="attr">env:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&lt;环境变量名&gt;</span></span><br><span class="line">      <span class="attr">valueFrom:</span></span><br><span class="line">        <span class="attr">configMapKeyRef:</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">&lt;configMap的名称&gt;</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">&lt;configMap的值&gt;</span></span><br></pre></td></tr></table></figure>

<p>引用不存在<code>ConfigMap</code>的容器会启动失败. 当之后创建了这个缺失的<code>ConfigMap</code>, 失败的容器会自动启动, 无须重新创建<code>pod</code>. </p>
<p>可以标记对<code>ConfigMap</code>的引用时可选的(设置<code>configMapKeyRef.optional: true</code>). 这样, 即便<code>ConfigMap</code>不存在, 容器也能正常启动. </p>
<h3 id="一次性传递ConfigMap的所有条目作为环境变量"><a href="#一次性传递ConfigMap的所有条目作为环境变量" class="headerlink" title="一次性传递ConfigMap的所有条目作为环境变量"></a>一次性传递<code>ConfigMap</code>的所有条目作为环境变量</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">some-image</span></span><br><span class="line">    <span class="attr">envFrom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">prefix:</span> <span class="string">CONFIG_</span></span><br><span class="line">      <span class="attr">configMapRef:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">&lt;configMap的名称&gt;</span></span><br></pre></td></tr></table></figure>

<p>前缀设置是可选的, 若不设置前缀值, 环境变量的名称与<code>ConfigMap</code>中的键名相同. </p>
<h3 id="传递Configmap条目作为命令行参数"><a href="#传递Configmap条目作为命令行参数" class="headerlink" title="传递Configmap条目作为命令行参数"></a>传递<code>Configmap</code>条目作为命令行参数</h3><p>在字段<code>pod.spec.containers.args</code>中无法直接引用<code>ConfigMap</code>的条目, 但是可以利用<code>ConfigMap</code>条目初始化某个环境变量, 然后再在参数字段中引用该环境变量. </p>
<h3 id="使用ConfigMap卷将条目暴露为文件"><a href="#使用ConfigMap卷将条目暴露为文件" class="headerlink" title="使用ConfigMap卷将条目暴露为文件"></a>使用<code>ConfigMap</code>卷将条目暴露为文件</h3><p>环境变量或者命令行参数值作为配置值通常适用于变量值较短的场景. </p>
<p><code>configMap</code>卷会将<code>ConfigMap</code>中每个条目均暴露成一个文件. 运行在容器中的进程可通过读取文件内容获得对应的条目值. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">  <span class="attr">configMap:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&lt;configMap的名称&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="卷内暴露指定的ConfigMap条目"><a href="#卷内暴露指定的ConfigMap条目" class="headerlink" title="卷内暴露指定的ConfigMap条目"></a>卷内暴露指定的<code>ConfigMap</code>条目</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">  <span class="attr">configMap:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&lt;configMap的名称&gt;</span>      </span><br><span class="line">    <span class="attr">items:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">&lt;configMap中的键&gt;</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">&lt;cofigMap中键的新名称&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="ConfigMap独立条目作为文件被挂载且不隐藏文件夹中的其他文件"><a href="#ConfigMap独立条目作为文件被挂载且不隐藏文件夹中的其他文件" class="headerlink" title="ConfigMap独立条目作为文件被挂载且不隐藏文件夹中的其他文件"></a>ConfigMap独立条目作为文件被挂载且不隐藏文件夹中的其他文件</h4><p>假设拥有一个包含文件<code>myconfig.conf</code>的<code>configMap</code>卷, 希望能将奇添加为<code>/etc</code>文件夹下的文件<code>someconfig.conf</code>. 通过属性<code>subPath</code>可以将该文件挂载的同时又不影响文件夹中的其他文件. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">some/image</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">myvolume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/etc/someconfig.conf</span></span><br><span class="line">      <span class="attr">subPath:</span> <span class="string">myconfig.conf</span></span><br></pre></td></tr></table></figure>

<p>挂载任意一种卷时均可以使用<code>subPath</code>属性. 可以选择挂载部分卷而不是挂载完整的卷. 捕获这种独立文件的挂载方式会带来文件更新上的缺陷. </p>
<h4 id="为configMap卷中的文件设置权限"><a href="#为configMap卷中的文件设置权限" class="headerlink" title="为configMap卷中的文件设置权限"></a>为<code>configMap</code>卷中的文件设置权限</h4><p><code>configMap</code>卷中所有文件的权限默认被设置为644. 可以通过卷规格定义中的<code>defaultMode</code>属性改变默认权限. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">  <span class="attr">configMap:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&lt;configMap的名称&gt;</span></span><br><span class="line">    <span class="attr">defaultMode:</span> <span class="string">&quot;6600&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="更新应用配置且不重启应用程序"><a href="#更新应用配置且不重启应用程序" class="headerlink" title="更新应用配置且不重启应用程序"></a>更新应用配置且不重启应用程序</h3><p>使用环境变量或命令行参数作为配置源的弊端在于无法在进程运行时更新配置. 将<code>ConfigMap</code>暴露为卷可以达到配置热更新的效果, 无须重新创建<code>pod</code>或者重启容器. </p>
<p><code>ConfigMap</code>被更新之后, 卷中引用它的所有文件也会相应更新, 进程发现文件被改变之后进行重载(这要进程自己实现). </p>
<h4 id="挂载至已存在文件夹的文件不会更新"><a href="#挂载至已存在文件夹的文件不会更新" class="headerlink" title="挂载至已存在文件夹的文件不会更新"></a>挂载至已存在文件夹的文件不会更新</h4><p>如果挂载的是容器中的单个文件而不是完整的卷, <code>ConfigMap</code>更新之后对应的文件不会被更新. </p>
<p>如果现在你需要挂载单个文件并且在修改源<code>ConfigMap</code>的同时会自动修改这个文件, 一种方案是挂载完整卷至不同的文件夹并创建指向文件的符号链接. 符号链接可以原生创建在容器镜像中, 也可以在容器启动时创建. </p>
<h2 id="使用Secret给容器传递敏感数据"><a href="#使用Secret给容器传递敏感数据" class="headerlink" title="使用Secret给容器传递敏感数据"></a>使用<code>Secret</code>给容器传递敏感数据</h2><p><code>Secret</code>与<code>ConfigMap</code>相似, 均是键<code>/</code>值对的映射, 但用于保存一些敏感数据. </p>
<h3 id="默认令牌Secret介绍"><a href="#默认令牌Secret介绍" class="headerlink" title="默认令牌Secret介绍"></a>默认令牌<code>Secret</code>介绍</h3><p>每个<code>pod</code>都会默认自动挂载上一个<code>Secret</code>卷, 引用一个默认的<code>Secret</code>. </p>
<h4 id="为二进制数据创建Secret"><a href="#为二进制数据创建Secret" class="headerlink" title="为二进制数据创建Secret"></a>为二进制数据创建<code>Secret</code></h4><p>采用<code>Base64</code>编码的原因很简单. <code>Secret</code>的条目可以涵盖二进制数据, 而不仅仅是纯文本. <code>Base64</code>编码可以将二进制数据转换为纯文本, 以<code>YAML</code>或<code>JSON</code>格式展示. </p>
<p><code>Secret</code>甚至可以被用来存储非敏感二进制数据, <code>Secret</code>的大小限于<code>1MB</code>. </p>
<h4 id="stringData字段介绍"><a href="#stringData字段介绍" class="headerlink" title="stringData字段介绍"></a><code>stringData</code>字段介绍</h4><p>由于并非所有敏感数据都是二进制形式, <code>Kubernetes</code>允许通过<code>Secret</code>的<code>stringData</code>字段设置条目的纯文本值. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">stringData:</span> </span><br><span class="line">  <span class="attr">fool:</span> <span class="string">plain</span> <span class="string">text</span></span><br><span class="line"><span class="attr">data:</span> </span><br><span class="line">  <span class="attr">https.cert:</span> <span class="string">LSOtLSAAA</span></span><br><span class="line">  <span class="attr">https.key:</span> <span class="string">LSOtLSAAA</span></span><br></pre></td></tr></table></figure>

<p>通过<code>kubectl get -o yaml</code>查看<code>Secret</code>时, <code>stringData</code>会出现在<code>data</code>字段. </p>
<h4 id="在pod中读取Secret条目"><a href="#在pod中读取Secret条目" class="headerlink" title="在pod中读取Secret条目"></a>在<code>pod</code>中读取<code>Secret</code>条目</h4><p>通过<code>secret</code>卷将<code>Secret</code>暴露给容器之后, <code>Secret</code>条目的值会被解码并以真实形式(纯文本或二进制)写入对应的文件. 通过环境变量暴露<code>Secret</code>条目也是如此. 应用程序无序主动解码, 可直接读取文件内容或查找环境变量. </p>
<h4 id="Secret卷存储于内存"><a href="#Secret卷存储于内存" class="headerlink" title="Secret卷存储于内存"></a><code>Secret</code>卷存储于内存</h4><p><code>Secret</code>卷采用内存文件系统列出容器的挂载点, 由于使用的是<code>tmpfs</code>, 存储在<code>Secret</code>中的数据不会写入磁盘, 这就无法被窃取. </p>
<h4 id="通过环境变量暴露Secret条目"><a href="#通过环境变量暴露Secret条目" class="headerlink" title="通过环境变量暴露Secret条目"></a>通过环境变量暴露<code>Secret</code>条目</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">env:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">FOO_SECRET</span></span><br><span class="line">  <span class="attr">valueFrom:</span></span><br><span class="line">    <span class="attr">secretKeyRef:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">&lt;secret的名字&gt;</span></span><br><span class="line">      <span class="attr">key:</span> <span class="string">&lt;secret的键&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>kubernetes</code>允许通过环境变量暴露<code>Secret</code>, 然而此特性的使用往往不是一个好注意. 应用程序通常会在错误报告时转储环境变量, 或者是在启动时打印在应用日志中, 无意中暴露了<code>Secret</code>信息.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/05/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/Kubernetes_In_Action/%E5%8D%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/10/05/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/Kubernetes_In_Action/%E5%8D%B7/" class="post-title-link" itemprop="url">卷</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-10-05 18:08:35" itemprop="dateCreated datePublished" datetime="2023-10-05T18:08:35+08:00">2023-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-11-08 23:08:01" itemprop="dateModified" datetime="2023-11-08T23:08:01+08:00">2023-11-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Kubernetes/" itemprop="url" rel="index"><span itemprop="name">Kubernetes</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>835</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="卷"><a href="#卷" class="headerlink" title="卷"></a>卷</h1><p><code>pod</code>的每个容器都有自己独立的文件系统, 因为文件系统来自容器镜像. 如果想要共享磁盘, <code>container</code>需要自己进行挂载. </p>
<p><code>Kubernetes</code>定义了存储卷, 它们被定义为<code>pod</code>的一部分, 并和<code>pod</code>共享相同的声明周期. 这意味着在<code>pod</code>启动时创建卷, 并在删除<code>pod</code>时销毁卷. 因此, 在容器重新启动期间, 卷的内容将保持不变, 在重新启动容器之后, 新容器可以识别前一个容器写入卷的所有文件. </p>
<h2 id="通过卷在容器之间共享数据"><a href="#通过卷在容器之间共享数据" class="headerlink" title="通过卷在容器之间共享数据"></a>通过卷在容器之间共享数据</h2><h3 id="使用emptyDir卷"><a href="#使用emptyDir卷" class="headerlink" title="使用emptyDir卷"></a>使用<code>emptyDir</code>卷</h3><p>卷从一个空目录开始, 运行在<code>pod</code>内的应用程序可以写入它需要的任何文件. 因为卷的生存周期与<code>pod</code>的生存周期相关联, 所以当删除<code>pod</code>时, 卷的内容就会丢失. </p>
<h4 id="指定用于EMPTYDIR的介质"><a href="#指定用于EMPTYDIR的介质" class="headerlink" title="指定用于EMPTYDIR的介质"></a>指定用于<code>EMPTYDIR</code>的介质</h4><p>作为卷来使用的<code>emptyDir</code>, 是在承载<code>pod</code>的工作节点的实际磁盘上创建的, 因此其性能取决于节点的磁盘类型. 但我们可以通知<code>Kubernetes</code>在<code>tmfs</code>文件系统(存在内存而非硬盘)上创建<code>emptyDir</code>. 因此, 将<code>emptyDir</code>的<code>medium</code>设置为<code>Memory</code>:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">html</span></span><br><span class="line">  	<span class="attr">emptyDir:</span></span><br><span class="line">  	  <span class="attr">medium:</span> <span class="string">Memory</span></span><br></pre></td></tr></table></figure>

<h3 id="使用Git仓库作为存储卷"><a href="#使用Git仓库作为存储卷" class="headerlink" title="使用Git仓库作为存储卷"></a>使用<code>Git</code>仓库作为存储卷</h3><p><code>gitRepo</code>卷基本上也是一个<code>emptyDir</code>卷, 它通过克隆<code>Git</code>仓库并在<code>pod</code>启动时(但在创建容器之前)检出特定版本类填充数据. </p>
<p>在创建<code>gitRepo</code>卷之后, 它并不能和对应<code>repo</code>保持同步. 当向<code>Git</code>仓库推送新增的提交时, 卷中的文件将不会被更新. </p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">html</span></span><br><span class="line">    <span class="attr">gitRepo:</span></span><br><span class="line">      <span class="attr">repository:</span> <span class="string">https://github.com/luksa/kubia-website-example.git</span></span><br><span class="line">      <span class="attr">directory:</span> <span class="string">.</span> </span><br></pre></td></tr></table></figure>

<h4 id="介绍sidercar容器"><a href="#介绍sidercar容器" class="headerlink" title="介绍sidercar容器"></a>介绍<code>sidercar</code>容器</h4><p><code>sidecar container</code>, 它是一种容器, 增加了对<code>pod</code>主容器的操作. 可以将一个<code>sidecar</code>添加到<code>pod</code>中, 这样就可以使用现有的容器镜像, 而不是将附加逻辑填入主应用程序的代码中, 这会使它过于复杂和不可用. </p>
<h2 id="访问工作节点文件系统上的文件"><a href="#访问工作节点文件系统上的文件" class="headerlink" title="访问工作节点文件系统上的文件"></a>访问工作节点文件系统上的文件</h2><p>大多数<code>pod</code>应该忽略它们的主机节点, 因此它们不应该访问节点文件系统上的任何文件. 但是某系系统级别的<code>pod</code>(切记, 这些通常由<code>DaemonSet</code>管理)确实需要读取节点的文件或使用节点文件系统来访问节点设备. <code>Kubernetes</code>通过<code>hostPath</code>卷实现了这一点. </p>
<h3 id="介绍hostPath卷"><a href="#介绍hostPath卷" class="headerlink" title="介绍hostPath卷"></a>介绍<code>hostPath</code>卷</h3><p><code>hostPath</code>卷是持久性存储, 因为<code>gitRepo</code>和<code>emptyDir</code>卷的内容都会在<code>pod</code>被删除时被删除, 而<code>hostPath</code>卷的内容则不会被删除. 如果删除了一个<code>pod</code>, 并且下一个<code>pod</code>使用了指向主机上相同路径的<code>hostPath</code>卷, 则新<code>pod</code>将会发现上一个<code>pod</code>留下的数据, 但前提是必须将其调度到与第一个<code>pod</code>相同的节点上. </p>
<h2 id="使用持久化存储"><a href="#使用持久化存储" class="headerlink" title="使用持久化存储"></a>使用持久化存储</h2><p>当运行在一个<code>pod</code>中的应用程序需要将数据保存到磁盘上, 并且即使该<code>pod</code>重新调度到另一个节点时也要求具有相同的数据可用. 这就不能使用<code>emptyDir</code>, <code>gitRepo</code>和<code>hostPath</code>, 由于这些数据需要从任何集群节点访问, 因此必须将其存储在某种类型的网络储存中. </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-leaf"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">霄剑</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">73k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">4:26</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/55OX5XO55" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  





</body>
</html>
