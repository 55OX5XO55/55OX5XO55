<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#70B7FD"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-space.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-space.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-space.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab-space.svg" color="#70B7FD">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.13.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="醉后不知天在水,满船清梦压星河">
<meta property="og:type" content="website">
<meta property="og:title" content="space">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="space">
<meta property="og:description" content="醉后不知天在水,满船清梦压星河">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="霄剑">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>space</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<script async src="/live2d/autoload.js"> </script>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">space</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">16</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">15</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">33</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="霄剑"
      src="/images/avatar.svg">
  <p class="site-author-name" itemprop="name">霄剑</p>
  <div class="site-description" itemprop="description">醉后不知天在水,满船清梦压星河</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">33</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/55OX5XO55" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;55OX5XO55" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/2606863445@qq.com" title="E-Mail → 2606863445@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/31/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/31/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">函数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-31 22:05:37" itemprop="dateCreated datePublished" datetime="2023-08-31T22:05:37+08:00">2023-08-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-09-03 00:39:15" itemprop="dateModified" datetime="2023-09-03T00:39:15+08:00">2023-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/" itemprop="url" rel="index"><span itemprop="name">Go</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>15 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h2><p>每个函数声明都包含一个名字, 一个形参列表, 要给可选的返回列表以及函数体:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">func name(parameter-list) (result-list) &#123;</span><br><span class="line">	body</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回值也可以像形参一样命名. 这个时候, 每个命名的返回值会声明为一个局部变量, 并根据变量类型初始化为相应的0值. </p>
<p>函数的类型称作函数签名. 当两个函数拥有相同的形参列表和返回列表时, 认为这两个函数的类型或签名是相同的. </p>
<p>每一次调用函数都需要提供实参来对应函数的每一个形参. <code>Go</code>语言没有默认参数值的概念, 也没有任何方法可以通过参数名指定形参. </p>
<p>实参是按值传递的, 所以函数接收到的是每个实参的副本; 修改函数的形参变量并不会影响到抵用者提供的实参. 然后就, 如果提供的实参包含引用类型, 比如指针, <code>slice</code>, <code>map</code>, 函数或者通道, 那么当函数使用形参变量时就有可能会间接修改实参变量. </p>
<p>如果函数声明没有函数体, 那说明这个函数使用了除<code>Go</code>以外的语言实现. </p>
<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><p>许多编程语言使用固定长度的函数调用栈; 大小在<code>64KB</code>到<code>2MB</code>之间. 递归的深度会受限于固定长度的栈大小, 所以但进行深度递归调用时必须谨慎防栈溢出. 固定长度的栈甚至会造成一定的安全隐患. 相比固定长的栈, <code>Go</code>语言的实现是使用了可变长度的栈, 栈的大小会随着使用而增长, 可达到<code>1GB</code>左右的上限. </p>
<h2 id="多返回值"><a href="#多返回值" class="headerlink" title="多返回值"></a>多返回值</h2><p><code>Go</code>语言的垃圾回收机制将回收未使用的内存, 但不能指望它会释放未使用的操作系统资源, 比如打开的文件以及网络连接. 必须显式地关闭它们. </p>
<p>返回一个多值结果可以是调用另一个多字返回的函数. </p>
<p>一个多值调用可以作为单独的实参传递给拥有多个形参的函数中. </p>
<p>良好的名称可以使得返回值更加有意义. 尤其在一个函数返回多个结果且类型相同时. </p>
<p>一个函数如果有命名的返回值, 可以省略<code>return</code>语句的操作数, 这称为裸返回. 因为能直观看出返回值, 应该保守使用裸返回. </p>
<h2 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h2><p>如果当函数函数调用发生错误时返回一个附加的结果作为错误值, 习惯上将错误值作为最后一个结果返回. 如果错误只有一种情况, 结果通常设置为布尔类型. 更多时候, 尤其对于<code>I/O</code>操作, 错误的原因可能多种多样, 而调用者则需要一些详细的信息. 在这种情况下, 错误的结果类型往往是<code>error</code>. </p>
<p><code>error</code>是内置的接口类型. 非空的错误类型有一个错误消息字符串, 可以通过调用它的<code>Error</code>方法或者通过调用<code>fmt.Println(err)</code>或<code>fmt.Print(&quot;%v&quot;, err)</code>直接输出错误消息. </p>
<p>在<code>Go</code>中, 函数运行失败时会返回错误信息, 这些错误信息被认为时一种预期的值而非异常, 这使得<code>Go</code>有区别于那些将函数运行失败看作异常的语言. 虽然<code>Go</code>有各种异常机制, 但这些机制仅被使用在处理那些未被预料到的错误, 即bug, 而不是那些键壮程序中应该被避免的程序错误. </p>
<h3 id="错误处理策略"><a href="#错误处理策略" class="headerlink" title="错误处理策略"></a>错误处理策略</h3><p>当一个函数调用返回一个错误时, 调用者应负责检查错误并采取合适的处理应对. </p>
<p>首先也还是最常见的情形是将错误传递下去, 使得子例程中发生的错误变为主调例程的错误. 我们为原始错误消息不断添加额外的上下文信息来建立一个可读的错误描述. 当错误最终被程序的<code>main</code>函数处理时, 它应该能够提供一个根本问题到总体故障的清晰因果链. </p>
<p>因为错误消息频繁地串联起来, 所以消息字符串首字母不应该大写, 而且应该避免换行.</p>
<p>一般而言, 被调用函数<code>f(x)</code>会将调用信息和参数信息作为发生错误时的上下文放在错误信息中并返回给调用者, 调用者需要添加一些错误信息中不包含的信息. </p>
<p>第二种错误处理策略. 对于不固定或者不可预测的错误, 在短暂的间隔后对操作进行重试是合乎情理的, 超出一定的重试次数和限定的时间后在报错退出. </p>
<p>第三, 如果依旧不能顺利进行下去, 调用者能够输出错误然后优雅地停止程序, 但一般这样的处理应该留给主程序部分. 通常库函数应当将错误传递给调用者, 除非这个错误表示一个内部一致性错误, 这意味着库内部存在<code>bug</code>. </p>
<p>一个更方便的方法是通过调用<code>log.Fatalf</code>实现相同的效果. 就和所有日志函数一样, 它默认会将时间和日期作为前缀添加到错误消息前. </p>
<p>第四, 在一些错误情况下, 只记录下错误信息然后程序继续运行. 可以使用<code>log.Printf</code>或者直接输出到标准错误流.  <code>log</code>包中所有函数会为没有换行符的字符串增加换行符. </p>
<p>第五, 在某些罕见的情况下我们可以直接安全地忽略掉整个错误. 要习惯考虑到每个函数调用可能发生的出错情况, 当你有意地忽略一个错误的时候, 清晰地注释一下你的意图. </p>
<p>如果某个错误会导致函数返回, 那么成功的逻辑代码不应该放在<code>else</code>语句中, 而应直接放在函数体中. </p>
<h3 id="文件结尾错误-EOF"><a href="#文件结尾错误-EOF" class="headerlink" title="文件结尾错误(EOF)"></a>文件结尾错误<code>(EOF)</code></h3><p><code>Io</code>包保证任何由文件结束引起的读取失败都返回同一个错误<code>(io.EOF)</code>. </p>
<h2 id="函数值"><a href="#函数值" class="headerlink" title="函数值"></a>函数值</h2><p>在<code>Go</code>中, 函数被看作第一类值: 函数像其他值一样, 拥有类型, 可以被赋值给其他变量, 传递给其他变量, 传递给函数, 从函数返回. 对函数值的调用类似函数调用. </p>
<p>函数类型的零值是<code>nil</code>, 调用一个空的函数变量将导致<code>panic</code>错误. 函数变量可以和<code>nil</code>比较, 但它们本省不可比较, 所以不可以相互进行比较或者作为键值出现在<code>map</code>中. </p>
<h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><p>命名函数只能在包级别的作用域进行声明, 但我们能够使用函数字面量在任何表达式内指定函数变量. 函数字面量就像函数声明, 但在<code>func</code>关键字后面没有函数名称. 它是一个表达式, 它的值称作匿名函数. </p>
<p>函数字面量在我们需要的时候才定义. </p>
<p>更重要的是, 以这种方式定义的函数能够获取到整个词法环境, 因此里层的函数可以使用外层函数中的变量. </p>
<p>函数值不仅仅是一串代码, 还记录了状态. 存在变量引用. 这就是函数值属于引用类型和函数值不可比较的原因. <code>Go</code>使用闭包技术实现函数值, <code>Go</code>程序员也把函数值叫做闭包. </p>
<p>当一个匿名函数需要进行递归, 必须先声明变量然后将匿名函数赋值给这个变量. </p>
<h3 id="警告-捕获迭代变量"><a href="#警告-捕获迭代变量" class="headerlink" title="警告: 捕获迭代变量"></a>警告: 捕获迭代变量</h3><p>为什么在循环体内将循环变量赋给一个新的局部变量, 而不是直接使用循环变量. </p>
<p>问题的原因在于循环变量的作用域. <code>for</code>循环引入了新的语法块, 循环变量在这个词法块中被声明. 在该循环中生成的所有函数值都共享相同的函数变量. 需要注意, 函数值中记录的是循环变量的内存地址, 而不是循环变量某一时刻的值. </p>
<p>这样的隐患不仅仅存在于使用<code>range</code>的<code>for</code>循环中. 在普通<code>for</code>循环中也存在. </p>
<p>在<code>go</code>语句和<code>defer</code>语句中会经常遇到此类问题. 者不是<code>go</code>或<code>defer</code>本身导致的, 而是因为它们都会等待循环结束后, 在执行函数值. </p>
<h2 id="变长函数"><a href="#变长函数" class="headerlink" title="变长函数"></a>变长函数</h2><p>变长函数被调用的时候可以有可变的参数个数. 最令人熟知的例子就是<code>fmt.Printf</code>与其变种. <code>Prinf</code>需要在开头提供一个固定的参数, 后续便可以就收任意数目的参数. </p>
<p>在参数列表最后的类型名称之前使用省略号<code>...</code>表示声明一个变长函数, 调用这个函数的时候可以传递该类型任意数目的参数. </p>
<p>调用者隐式地创建一个数组, 并将原始参数复制到数组中, 再把数组的一个切片作为参数传递给被调用函数. 如果原始参数已经是切片类型, 我们如何传值? 只需要在<code>slice</code>后加<code>...</code>. </p>
<p>虽然在可变参数函数内部, 尽管可变参数的行为很像切片类型, 但实际上, 可变参数函数和以切片作为参数的函数是不同的. </p>
<p>可变参数函数经常被用于格式化字符串. <code>interface&#123;&#125;</code>表示函数的最后一个参数可以接收任意类型. </p>
<h2 id="延迟函数调用"><a href="#延迟函数调用" class="headerlink" title="延迟函数调用"></a>延迟函数调用</h2><p>语法上, 一个<code>defer</code>语句就是一个普通的函数或方法调用, 在调用之前加上关键字<code>defer</code>. 函数和参数表达式会在语句执行时求值, 但是无论是正常情况下, 执行<code>reutrn</code>或函数执行完毕, 还是不正常的情况下, 比如发生宕机, 实际的调用推迟到包含<code>defer</code>语句的函数结束后才执行. <code>defer</code>语句没有限制使用次数; 执行的时候以调用<code>defer</code>语句的顺序倒序进行. </p>
<p><code>defer</code>语句经常被用于处理成对的操作, 如打开, 关闭, 连接, 断开连接, 加锁, 释放锁. 通过<code>defer</code>机制, 无论函数逻辑多复杂, 都能保证在任何执行路径下, 资源被释放. 释放资源的<code>defer</code>应该直接跟在请求资源的语句后. </p>
<p>调试复杂程序时, <code>defer</code>机制也常被用于记录何时进入和退出函数. <code>defer</code>后面的函数返回一个函数. 返回函数的函数会在入口执行, 返回的函数会在出口执行. </p>
<p>我们知道, <code>defer</code>语句中的函数会在<code>return</code>语句更新返回值变量后在执行, 又因为在函数定义的匿名函数可以访问函数包括返回变量在内的所有变量, 所以, 对匿名函数采用<code>defer</code>机制, 可以使其观察函数的返回值. 被延迟执行的匿名函数甚至可以修改函数返回给调用者的返回值. </p>
<p>在循环体中的<code>defer</code>语句需要特别注意, 因为只有在函数执行完毕之后, 这些函数被延迟的函数才会被执行, 有些需要在一次循环结束后关闭, 这时可以把循环体变成一个函数, 在这个函数中使用<code>defer</code>. </p>
<p>如果试图使用延迟调用去关闭一个本地文件就会有些问题. 在许多文件系统中, 尤其是<code>NFS</code>, 写错误往往不是立即返回而是推迟到文件关闭的时候. 如果没有检查文件关闭时的反馈信息, 可能会导致数据丢失, 而我们还认为写入操作成功. </p>
<h2 id="Panic异常"><a href="#Panic异常" class="headerlink" title="Panic异常"></a><code>Panic</code>异常</h2><p><code>Go</code>的类型系统会在编译时捕获很多错误, 但有些错误只能在运行时检查, 如数组访问越界, 空指针引用等. 这些运行时错误会引起<code>panic</code>异常. </p>
<p>一般而言, 当<code>panic</code>异常发生时, 程序会中断运行, 并立即执行在该<code>goroutine</code>中被延迟的函数(<code>defer</code>机制). 随后, 程序崩溃并输出日志信息. 日志信息包括<code>panic value</code>和函数调用的堆栈很跟踪信息. <code>panic value</code>通常是某种错误信息. 对于每个<code>goroutine</code>, 日志信息中都会有与之相对的, 发生<code>panic</code>时的函数调用堆栈跟踪信息. </p>
<p>不是所有的<code>panic</code>异常都来自运行时, 直接调用内置的<code>panic</code>函数也会引发<code>panic</code>异常; <code>panic</code>函数接受任何值作为参数. 当某些不应该发生的场景发生时, 我们就应该调用<code>panic</code>.</p>
<p>断言函数必须满足的前置条件时明智的做法, 但者很容易被滥用. 除非你能提供更多的错误信息, 或者能更快的发现错误, 否则不需要使用断言, 编译器在运行时会帮你检查代码. </p>
<p>虽然<code>Go</code>的<code>panic</code>机制类似于其他语言的异常, 但<code>panic</code>的适用场景有些不同. 由于<code>panic</code>会引起程序的崩溃, 因此<code>panic</code>一般用于严重的错误, 如程序内部的逻辑不一致. 勤奋的程序员认为任何崩溃都表明程序中存在漏洞, 所以对于大部分漏洞, 我们应该使用<code>Go</code>提供的错误机制, 而不是<code>panic</code>, 尽量避免程序崩溃. 在健壮的程序中, 任何可以预料到的错误, 如不正确的输入, 错误的配置或是失败的<code>I/O</code>操作都应该被优雅地处理, 最好的处理方式, 就是使用<code>Go</code>的错误机制. </p>
<p>当调用者明确的知道正确的输入不会引起函数错误是, 要求调用者检查这个错误时不必要和累赘的. 我们应该假设函数的输入一直合法, 就如前面的断言一样: 当调用者输入了不该出现的输入时, 触发<code>panic</code>异常. 函数名中的<code>Must</code>前缀是一种针对此类函数的命名约定. </p>
<h2 id="Recover捕获异常"><a href="#Recover捕获异常" class="headerlink" title="Recover捕获异常"></a><code>Recover</code>捕获异常</h2><p>通常来说, 不应该对<code>panic</code>异常做任何处理, 但有时, 也许我们可以从异常中恢复, 至少可以在程序崩溃前, 做一些操作. </p>
<p>如果在<code>deferred</code>函数中调用了内置函数<code>recover</code>, 并且定义该<code>defer</code>语句的函数发生了<code>panic</code>会使程序从<code>panic</code>中恢复, 并返回<code>panic value</code>. 导致<code>panic</code>异常的函数不会继续运行, 但能正常返回. 在未发生<code>panic</code>时调用<code>recover</code>, <code>recover</code>会返回<code>nil</code>. </p>
<p>不加区分的恢复所有的<code>panic</code>异常, 不是可取的做法; 因为在<code>panic</code>之后, 无法保证包级变量的状态仍然和我们预期一致. </p>
<p>作为被广泛遵守的规范, 你不应该试图去恢复其他包引起的<code>panic</code>. 公有的<code>API</code>应该将函数的运行失败作为<code>error</code>返回, 而不是<code>panic</code>. 同样的, 你不应该恢复一个由他人开发的函数引起的<code>panic</code>, 比如说调用者传入的回调函数, 因为你无法确保这样做是安全的. </p>
<p>只恢复应该恢复的<code>panic</code>异常, 此外, 这些异常所占的比例应该尽可能的低. 为了标识某个<code>panic</code>是否应该被恢复, 我们可以将<code>panic value</code>设置成特殊类型. 在<code>recover</code>时对<code>panic value</code>进行检查, 如果发现<code>panic value</code>是特殊类型, 就将这个<code>panic</code>作为<code>error</code>, 如果不是, 则按照正常的<code>panic</code>进行处理. </p>
<h1 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fmt.Printf(&quot;%*s&quot;, 数量, &quot;字符&quot;)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">字符串排序</span></span><br><span class="line">sort.String()</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">runtime包允许程序员输出堆栈信息</span></span><br><span class="line">runtime.Stack()</span><br></pre></td></tr></table></figure>










      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/29/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E5%A4%8D%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/29/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E5%A4%8D%E5%90%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="post-title-link" itemprop="url">复合数据类型</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-29 20:31:33" itemprop="dateCreated datePublished" datetime="2023-08-29T20:31:33+08:00">2023-08-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-09-03 20:20:06" itemprop="dateModified" datetime="2023-09-03T20:20:06+08:00">2023-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/" itemprop="url" rel="index"><span itemprop="name">Go</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>14 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="复合数据类型"><a href="#复合数据类型" class="headerlink" title="复合数据类型"></a>复合数据类型</h1><p>复合数据类型是由基本数据类型以各种方式组合而构成的. 数组和结构体都是聚合类型, 它们的值由内存中的一组变量构成. 数组的元素具有相同的类型, 而结构体中元素类型则可以不同. 数组和结构体的长度都是固定的, 反之, <code>slice</code>和<code>map</code>都是动态数据结构, 它们的长度都是元素添加到结构体中时可以动态增长. </p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>数组是具有固定长度且拥有零个或多个相同数据类型元素的序列. 由于数组的长度固定, 所以在<code>Go</code>里面直接很少使用. <code>slice</code>的长度可以增长和缩短, 在很多场合下使用得更多. </p>
<p><code>Go</code>内置的函数<code>len</code>可以返回数组中元素元素的个数. </p>
<p>默认情况下, 一个新数组中的元素初始值为元素类型的零值, 对于数字来说, 就是0. 也可以使用数组字面量根据一组值来初始化一个数组. 在数组字面中, 如果使用<code>...</code>代替数组长度, 那么数组的长度由初始化数组的个数决定. </p>
<p>数组长度是数组类型的一部分, 所以<code>[3]int</code>和<code>[4]int</code>是两种不同的数组类型. 数组的长度必须是常量表达式, 也就是说, 这个表达式的值在程序编译时就可以确定. </p>
<p>数组可以通过索引赋值, 没有指定值的索引位置的元素默认被赋予数组元素类型的零值. </p>
<p>如果一个数组的元素类型是可比较的, 那么这个数组也是可比较的, 这样我们就可以直接使用<code>==</code>操作符来比较两个数组, 比较的结果是两边元素的值是否完全相同. 只有长度相同的数组可以比较, 如果长度不同, 会认为是两个不同类型的数组. </p>
<p>在<code>Go</code>语言中, 把数组和其他的类型都看成值传递, 对参数的任何修改都发生在复制的数组上. 而在其语言中, 数组时隐式地使用了引用或指针传递. </p>
<h2 id="slice"><a href="#slice" class="headerlink" title="slice"></a><code>slice</code></h2><p><code>slice</code>表示一个拥有相同类型元素的可变长度的序列. <code>slice</code>通常写成<code>[]T</code>, 其中元素的类型都是<code>T</code>; 它看上去像没有长度的数组类型. </p>
<p>一个<code>slice</code>是一个轻量级的数据结构, 提供了访问数组子序列元素的功能, 而且<code>slice</code>的底层确实引用了一个数组对象. 一个<code>slice</code>有三个属性: 指针, 长度和容量. 指针指向数组的第一个可以从<code>slice</code>中访问的元素, 这个元素并不一定是数组的第一个元素. 长度是指<code>slice</code>中元素的个数, 它不能超过<code>slice</code>的容量. 容量的大小通常是从<code>slice</code>的起始元素到底层数组的最后一个元素间元素的个数. <code>Go</code>的内置函数<code>len</code>和<code>cap</code>用来返回<code>slice</code>的长度和容量. </p>
<p>一个底层数组可以对应多个<code>slice</code>, 这些<code>slice</code>可以引用数组的任何位置, 彼此之间的元素还可以重叠. </p>
<p><code>slice</code>操作符<code>s[i:j]</code>(其中$0 \le i \le j \le cap(s)$) 创建了一个新的<code>slice</code>, 这个新的<code>slice</code>引用了序列s中<code>i</code>到<code>j-1</code>索引位置的所有元素, 这里的s既可以是数组或是指向数组的指针, 也可以是<code>slice</code>. </p>
<p>如果切片操作超出了<code>cap(s)</code>的上限将导致一个<code>panic</code>异常, 但是超出了<code>len(s)</code>则是意味着扩展了<code>slice</code>, 因为新的<code>slice</code>的长度会变大. </p>
<p>因为<code>slice</code>包含了指向数组元素的指针, 所以将一个<code>slice</code>传递给函数的时候, 可以在函数内部修改底层数组的元素. </p>
<p><code>slice</code>字面量看上去和数组字面量很像, 都是用逗号分隔并用花括号扩起来的一个元素序列, 但是<code>slice</code>没有指定长度. 这种隐式区别的结果分别是创建有固定长度的数组和创建指向数组的<code>slice</code>. 和数组一样, <code>slice</code>也按照顺序指定元素, 也可以通过索引了指定元素, 或者两种结合. </p>
<p>和数组不同的是, <code>slice</code>无法做比较, 因此不能用<code>==</code>来测试两个<code>slice</code>是否拥有相同的元素. 标准库里面提供了高度优化的函数<code>bytes.Equal</code>来比较两个字节<code>slice</code>. 但是对于其他类型的<code>slice</code>, 我们必须自己写函数来比较. </p>
<p><code>slice</code>唯一允许的比较操作是和<code>nil</code>做比较. <code>slice</code>类型的零值是<code>nil</code>. 值是<code>nil</code>的<code>slice</code>没有对应的底层数组. 值为<code>nik</code>的<code>slice</code>长度和容量都是零, 但是也有非<code>nil</code>的<code>slice</code>长度和容量都是零, 例如<code>[]int&#123;&#125;</code>或<code>make([]int,3)[3:]</code>. 对于任何类型, 如果它们的值可以nil, 那么这个类型的值可以使用一种转换表达式, 例如<code>[]int(nil)</code>. </p>
<p>所以, 如果想检查一个<code>slice</code>是否为空, 那么使用<code>len(s) == 0</code>, 而不是<code>s == nil</code>, 因为<code>s != nil</code>情况下, <code>slice</code>也可能是空. </p>
<p>内置函数<code>make</code>可以创建一个具有指定元素类型, 长度和容量的<code>slice</code>. 其中容量参数可以省略, 在这种情况下, <code>slice</code>的长度和容量相等. </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">make</span>([]T, <span class="built_in">len</span>)</span><br><span class="line"><span class="built_in">make</span>([]T, <span class="built_in">len</span>, <span class="built_in">cap</span>) <span class="comment">// 和 make([]T, cap)[:len]功能相同</span></span><br></pre></td></tr></table></figure>

<p>深度研究一下, 其实<code>make</code>创建了一个无名数组并返回了它的一个<code>slice</code>; 这个数组仅可以通过<code>slice</code>来访问. 在上面的第一行代码中, 所返回的<code>slice</code>引用了整个数组. 在第二行代码中, <code>slice</code>只引用了数组的前<code>len</code>个元素, 但是它的容量和数组的长度, 这为未来的<code>slice</code>元素留出空间. </p>
<h3 id="append函数"><a href="#append函数" class="headerlink" title="append函数"></a><code>append</code>函数</h3><p>内置函数<code>append</code>用来将元素追加到<code>slice</code>的后面. </p>
<p>更新<code>slice</code>变量不仅对调用<code>append</code>函数是必要的, 实际上对应任何可能导致长度, 容量或底层数组变化的操作都是必要的. </p>
<p>函数参数声明中的省略号<code>...</code>表示该函数可以接受可变参数列表, 实参后面的省略号表示将一个<code>slice</code>转换为参数列表. </p>
<h3 id="slice内存技巧"><a href="#slice内存技巧" class="headerlink" title="slice内存技巧"></a><code>slice</code>内存技巧</h3><p>输入的<code>slice</code>和输出的<code>slice</code>共享一个底层数组. 这可以避免分配另一个数组, 不过原来的数据可能会被覆盖. </p>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a><code>map</code></h2><p>在<code>Go</code>语言中, <code>map</code>是散列表的引用, <code>map</code>的类型是<code>map[K]V</code>, 其中<code>K</code>和<code>V</code>是字典的键和值对应的数据类型. 键的类型<code>K</code>, 必须可以通过操作符<code>==</code>来进行比较的数据类型, 所以<code>map</code>可以检测某一个键是否已经存在. 虽然浮点型是可以比较的, 但是比较浮点型的相等性不是一个好主意. </p>
<p>内置函数<code>make</code>可以用来创建一个<code>map</code>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">args := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>) <span class="comment">// 创建一个从string到int的map</span></span><br></pre></td></tr></table></figure>

<p>也可以使用<code>map</code>的字面量来创建一个带初始键值对元素的字典:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">args := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;</span><br><span class="line">    <span class="string">&quot;alice&quot;</span>: <span class="number">31</span>,</span><br><span class="line">    <span class="string">&quot;charlie&quot;</span>: <span class="number">34</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">等价于</span><br><span class="line">args := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>) <span class="comment">// 等价于map[string]int&#123;&#125;</span></span><br><span class="line">args[<span class="string">&quot;alice&quot;</span>] = <span class="number">31</span></span><br><span class="line">args[<span class="string">&quot;charlie&quot;</span>] = <span class="number">34</span></span><br></pre></td></tr></table></figure>

<p>可以使用内置函数<code>delete</code>来从字典中根据键移除一个元素:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delete</span>(args, <span class="string">&quot;alice&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>即使键不在<code>map</code>中, 上面的操作也都是安全的. <code>map</code>使用给定的键来查找元素, 如果对应的元素不存在, 就返回值类型的零值. </p>
<p>快捷赋值方式(如x+&#x3D;y和x++)对<code>map</code>中元素同样适用.</p>
<p>我们无法获得<code>map</code>元素的地址的一个原因是<code>map</code>的增长可能会导致已有元素元素被重新散列到新的存储位置, 这样就可能使得获得的地址无效. </p>
<p>可以使用<code>for</code>循环(结合<code>range</code>关键字)来便历<code>map</code>中所有的键和对应的值. </p>
<p>如果需要按照某种顺序来遍历<code>map</code>中的元素, 我们必须显式地来给键排序, 然后再取值. 如果一开始就知道了元素的个数, 直接指定一个<code>slice</code>的长度会更加高效. </p>
<p><code>map</code>类型的零值是<code>nil</code>, 大多数的<code>map</code>操作都可以安全地在<code>map</code>的零值<code>nil</code>上执行, 包括查找元素, 删除元素, 获取<code>map</code>元素的个数(<code>len</code>), 执行<code>range</code>循环, 应为这和空<code>map</code>的行为一致. 但是向零值<code>map</code>中设置元素会导致错误. </p>
<p>判断一个元素知否在<code>map</code>中, 还是值是零值. </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> age, ok := args[<span class="string">&quot;bob&quot;</span>]; !ok &#123; <span class="comment">/* ... */</span>&#125;</span><br></pre></td></tr></table></figure>

<p>和<code>slice</code>一样, <code>map</code>不可比较, 唯一合法的比较就是和<code>nil</code>做比较. 为了判断两个<code>map</code>是否拥有相同的键和值, 必须写一个循环. </p>
<p><code>Go</code>没有提供集合类型, 但既然<code>map</code>的键都是唯一的, 就可以用<code>map</code>来实现这个功能. </p>
<p><code>map</code>的值类型本身可以是复合数据类型, 例如<code>map</code>和<code>slice</code>.</p>
<h1 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h1><p>结构体是将零个或多个任意类型的命名变量组合在一起的聚合数据类型. 每个变量都叫做结构体的成员. </p>
<p>结构体可以通过点号的方式来访问成员. 点号同样可以用在结构体指针上. </p>
<p>成员变量的顺序对于结构体同一性很重要. 顺序不一样, 结构体就不一样. </p>
<p>命名结构体类型S不可以定义一个拥有相同结构体类型S的成员变量, 也就是一个聚合类型不可以包含它自己(同样的限制对数组也是适用). 但是S中可以定义一个S的指针类型, 即<code>*S</code>, 这样我们就可以创建一些递归数据结构, 比如链表和树. </p>
<p>结构体的零值由结构体成员的零值组成. 通常情况下, 我们希望零值是一个默认自然的, 合理的值. </p>
<p>任何没有成员变量的结构体称为空结构体, 写作<code>struct&#123;&#125;</code>. 它没有长度, 也不携带任何信息, 但是有时候会很有用. </p>
<h3 id="结构体字面量"><a href="#结构体字面量" class="headerlink" title="结构体字面量"></a>结构体字面量</h3><p>结构体类型的值可以通过结构体字面量来设置, 即通过设计结构体的成员变量来设置. </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Point struce&#123; X, Y <span class="type">int</span>&#125;</span><br><span class="line">p := Point&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<p>有两种格式的结构体字面量. 第一中格式如上, 它要求按照正确的顺序, 为每个成员变量指定一个值, 这种格式一般只在定义结构体的包内部使用, 或者是在较小的结构体中使用, 这些结构体的成员排列比较规则. 第二种形式, 通过指定部分或全部成员变量的名称和值来初始化结构体变量. 如果在这种初始化方式中某个成员变量没有指定, 那么它的值就是该成员变量类型的零值. 因为了指定了成员变量的名字, 所以它们的顺序是无所谓的. </p>
<p>这两种初始化方式不可以混合使用, 另外也无法使用第一种初始化方式来绕过不可导出的变量无法在其他包中使用的规则. </p>
<p>如果考虑效率的haunted, 较大的结构体通常会使用指针的方式传入和返回. </p>
<p>如果要在函数内部修改结构体成员的话, 用指针传入是必须的; 因为在<code>Go</code>语言中, 所有的函数参数都是值拷贝传入的, 函数参数将不再是函数调用时的原始变量. </p>
<h3 id="结构体比较"><a href="#结构体比较" class="headerlink" title="结构体比较"></a>结构体比较</h3><p>如果结构体的所有成员变量都是可以比较的, 那么这个结构体就是可比较的. 两个结构体的比较可以使用<code>==</code>或者<code>!=</code>. 其中<code>==</code>操作按照顺序比较两个结构体变量的成员变量. </p>
<h3 id="结构体嵌套和匿名成员"><a href="#结构体嵌套和匿名成员" class="headerlink" title="结构体嵌套和匿名成员"></a>结构体嵌套和匿名成员</h3><p><code>Go</code>允许我们定义不带名称的结构体成员, 只需要指定类型即可; 这种结构体成员称做匿名成员. 这个结构体成员的类型必须是一个命名类型或指向命名类型的指针. 正因为有了这种结构体嵌套的功能, 我们才能直接访问到我们需要的变量而不是指定一大串中间变量. </p>
<p>匿名成员的名称其实是对应类型的名字, 只是这些名字在点号访问时时可选的. 结构体字面值并没有简短表示匿名成员的语法. </p>
<p>因为”匿名成员”拥有隐式的名字, 所以你不能在一个结构体里面定义两个相同类型的匿名成员, 否则会引起冲突. 由于匿名成员的名字是由它们的类型决定的, 因此它们的可导出性也是由它们的类型决定的. </p>
<p>以快捷方式访问匿名成员的内部变量同样适用于访问匿名成员的内部方法. 因此, 外围的结构体类型获取的不仅是匿名成员的内部变量, 还有相关的方法. </p>
<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a><code>JSON</code></h2><p><code>javaScript</code>对象表示法(<code>JSON</code>)是一种发送和接收格式化信息的标准. <code>JSON</code>是<code>JavaScript</code>值的<code>Unicode</code>编码, 这些值包括字符串, 数字, 布尔值, 数组和对象. <code>JSON</code>里面的<code>\Uhhhh</code>转义数字来表示一个<code>UTF-16</code>编码(译注: <code>UTF-16</code>和<code>UTF-8</code>一样是一种变长的编码, 但是有大端和小端之分). </p>
<h2 id="文本和HTML模版"><a href="#文本和HTML模版" class="headerlink" title="文本和HTML模版"></a>文本和<code>HTML</code>模版</h2><p>通常情况下, <code>Printf</code>函数就够用了, 但是有的情况下格式化会很复杂, 并且要求格式和代码彻底分离. 这个可以通过<code>text/template</code>包和<code>/html/template</code>包里面的方法来实现, 这两个包提供了一种机制, 可以将程序变量的值植入到文本或者是<code>HTML</code>模版中. </p>
<h1 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 解码UTF-8编码, 并返回三个值, 解码的字符, UTF-8编码中字节的长度和错误值. 这里唯一可能出现的错误是文件结束(EOF), 如果输入的不是合法的UTF-8字符, 那么返回的字符是unicode.ReplacementChar并且长度是1</span><br><span class="line">in.ReadRune()</span><br><span class="line"></span><br><span class="line">// 副词#使得%v用和`Go`语言类似的语法打印. 对于结构体类型来说, 将包含每个成员的名字</span><br><span class="line">fmt.Printf(&quot;%#v&quot;, w)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">marshal编组, 将go对象编组为JSON对象, 这个是紧凑形式, 格式化方法, json.MarshlIndent(movies, <span class="string">&quot;&quot;</span>, <span class="string">&quot;    &quot;</span>), 只有可以导出的成员可以转换为JSON字段</span></span><br><span class="line">json.marshal(movies)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">unmarshal解码, 将JSON转换为go对象. 通过合理地定义go的数据结构, 我们可以选择将哪部分JSON数据解码到结构体中, 哪些数据可以丢弃, 解码忽略大小写</span></span><br><span class="line">json.Unmarsh</span><br></pre></td></tr></table></figure>



<h1 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h1><p>将一个<code>slice</code>左移n个元素的简单方法是连续调用<code>reverse</code>函数三次. 第一次反转前n个元素, 第二次反转剩下的元素, 最后一次对整个<code>slice</code>再做一次反转(如果将元素右移n个元素, 那么先做第三次调用)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/26/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/26/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE/" class="post-title-link" itemprop="url">基本数据</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-26 20:59:44" itemprop="dateCreated datePublished" datetime="2023-08-26T20:59:44+08:00">2023-08-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-29 20:31:37" itemprop="dateModified" datetime="2023-08-29T20:31:37+08:00">2023-08-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/" itemprop="url" rel="index"><span itemprop="name">Go</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>5.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>19 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="基本数据"><a href="#基本数据" class="headerlink" title="基本数据"></a>基本数据</h1><p>毫无疑问, 计算机底层全是位, 而实际操作则是基于大小固定的单元中的数值, 称为字, 这些值可解释为整数, 浮点数, 位集或内存地址等, 进而构成更大的聚合体, 以表示数据包, 像素, 文件, 诗集, 以及其他种种. </p>
<p><code>Go</code>的数据类型分为四大类: 基础类型, 聚合类型, 引用类型和接口类型. 基础类型, 包括数字, 字符串和布尔型. 聚合类型包括, 数组和结构体. 引用类型, 包括指针, <code>slice</code>, <code>map</code>, 函数, 以及通道, 它们的共同点都是全部间接指向程序变量或状态, 这意味着对任一引用类型数据的修改都会影响所有该引用的拷贝. </p>
<h2 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h2><p><code>Go</code>语言的数值类型包括几种不同大小的整数, 浮点数和复数. 各种数值类型分别有自己的大小, 对正负号支持也各异. </p>
<p><code>Go</code>同时具备有符号整数和无符号整数. 有符号整数分为四种大小: 8位, 16位, 32位, 64位, 用<code>int8</code>, <code>int16</code>, <code>int32</code>, <code>int64</code>表示, 对应的无符号整数是<code>uint8</code>, <code>uint16</code>, <code>uint32</code>, <code>uint64</code>.</p>
<p>此外还有两种类型<code>int</code>和<code>uint</code>. 在特定平台上, 其大小和原生的有符号数<code>\</code>无符号整数相同, 或等于该平台上运算效率最高的值. <code>int</code>是目前使用最广泛的数值类型. 者两种类型大小相等, 都是32位或64位, 版不能认为它们就一定是32位, 或一个就是64位; 即使在同样的硬件平台上, 不同的编译器也可能选用不同的大小. </p>
<p><code>rune</code>类型是<code>int32</code>类型的同义词, 常常用于指明一个值是<code>Unicode</code>码点. 这两个名称可互换使用. 同样, <code>byte</code>类型是<code>uint8</code>类型的同义词, 强调一个值是原始数据, 而非量值. </p>
<p>最后, 还有一种无符号整数<code>uintptr</code>, 其大小并不明确, 但足以完整存放指针. <code>uintptr</code>类型仅仅用于底层编码, 例如在<code>Go</code>程序与<code>C</code>程序库或操作系统接口相互交互的地方. </p>
<p><code>int</code>, <code>uint</code>和<code>uintptr</code>都是不同类型的兄弟类型, 也必须进行显式地类型操作转换. </p>
<p>有符号数以补码表示. </p>
<p>算术运算符<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>可应用于整数, 浮点数和复数, 而取模运算符<code>%</code>仅能用于整数. 取模运算符<code>%</code>的行为因编程语言而异. 就<code>Go</code>而言, 取模余数的正负号总是与被除数一致, 于是<code>-5%3</code>和<code>-5%-3</code>都得<code>-2</code>. 除法运算<code>(/)</code>的行为取决于操作数是否都为整形, 整数相除, 商会舍弃掉小数部分.</p>
<p>不论是有符号数还是无符号数, 若表达算术运算结果所需的位超出该类型的范围, 就称为溢出. 溢出的高位部分会无提示地丢弃.</p>
<p>实际上, 全部基本类型的值(布尔值, 数值, 字符串)都可以比较, 这意味着两个相同类型的值可用<code>==</code>和<code>!=</code>运算符比较. 整数, 浮点数和字符串还能根据比较运算符排序. </p>
<p>如果作为二元运算符, 运算符<code>^</code>表示按位”异或”<code>(XOR)</code>; 若作为一元前缀运算符, 则它表示按位取反或按位取补, 运算结果就是操作数逐位取反. 运算符<code>&amp;^</code>是按位清除<code>(AND NOT)</code>: 表达式<code>z=x&amp;^y</code>中, 若y的某位是1, 则z的对应位等于0; 否则, 他就等于x的对应位. </p>
<p>在位移运算符<code>x&lt;&lt;n</code>和<code>x&gt;&gt;n</code>中, 操作数你决定位移量, 而且n必须为无符号型; 操作数x可以是有符号型也可以是无符号型. 算术上, 左移运算<code>x&lt;&lt;n</code>等价于x乘以$2^n$; 而右移运算<code>x&gt;&gt;n</code>等价于x除以<code>2^n</code>, 向下取整. </p>
<p>左移以0填补右边空位, 无符号数右移同样以0填补左边空位, 但是有符号数的右移操作是按符号位的值填补空位. 因此, 当进行位运算的时候, 尽量使用无符号数. </p>
<p>因此, 无符号整数往往只用于位运算符和特定算术运算符, 如实现位集时, 解析二进制格式的文件, 或散列和加密. 一般而言, 无符号整数极少用于表示非负值. </p>
<p>通常, 将某种类型的值转换成另一种, 需要显式转换. 对于算术和逻辑(不含移位)的二元运算符, 其操作数的类型必须相同. 虽然这有时会导致表示式相对冗长, 但是一整类错误得以避免, 程序也更容易理解. </p>
<p>浮点型转成整形, 会舍弃小数部分, 趋零截尾(正值先下取整, 负值先上取整). 如果有些转换的操作数的值超出了目标类型的取值范围, 就应当避免这种转换, 因为其行为依赖具体实现. </p>
<p>任何大小的整数字面值都能写成十进制数, 也能写成八进制数(以0开头), 或十六进制(以0x或0x)开头.当前, 八进制数似乎仅有一种用途, 表示<code>POSIX</code>文件系统的权限, 而十六进制数广泛用于强调其位模式, 而非数值大小. </p>
<p>字符面值通过一对单引号直接包含字符. 用<code>%c</code>输出文字符号, 如果希望输出带有单引号则用<code>%q</code>. </p>
<h2 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h2><p><code>Go</code>具有两种大小的浮点数<code>float32</code>和<code>float64</code>. 这两个类型的值可从超细微到超宏大. <code>math</code>包给出了浮点值的极限. </p>
<p>十进制下, <code>float32</code>的有效数字大约是6位, <code>float64</code>的有效数字大约15位. 绝大多数情况下, 应优先选用<code>float64</code>, 因为除非格外小心, 否则<code>float32</code>的运算会迅速累积误差. 另外, <code>float32</code>能精确表示的正整数范围有限. </p>
<p>小数点前的数字可以省略<code>(.707)</code>, 后面的也可以省去<code>(1.)</code>. 非常小或非常大的数字最好使用科学计数法表示, 此方法在数量级指数前写字母<code>e</code>或<code>E</code>. </p>
<p>使用<code>Printf</code>函数的<code>%g</code>输出, 该谓词会自动保持足够的精度, 并选择最简介的表示方式, 但是对于数据表, <code>%e</code>(有指数)或<code>%f</code>(无指数)的形式可能更合适. </p>
<p>除了大量常见的数学函数之外, <code>math</code>包还有函数用于创建和判断<code>IEEE 754</code>标准定义的特殊值: 正无穷大和负无穷大, 它表示超出最大许可值的数和除零的结果; 以及<code>NAN</code>, 它表示数学意义上无意义的运算结果. </p>
<p><code>math.isNaN</code>函数判断其参数是否是非数值, <code>math.NaN</code>函数则返回非数值. 在数字运算中, 我们倾向于将<code>NaN</code>当作信号值, 不拿它来进行比较操作, 因为<code>NaN</code>和任何数的比较操作都为<code>false</code>(除了<code>!=</code>为<code>true</code>). 在浮点数中, <code>NaN</code>, 正无穷大和负无穷大都不是唯一的, 每个都有非常多种的<code>bit</code>模式表示. </p>
<p>如果一个函数返回的浮点数结果可能失败, 最好的做法是用单独的标志报告失败. </p>
<h2 id="复数"><a href="#复数" class="headerlink" title="复数"></a>复数</h2><p><code>Go</code>具有两种大小的复数<code>complex64</code>和<code>complex128</code>, 二者分别由<code>float32</code>和<code>float64</code>构成. 内置的<code>complex</code>函数根据给定的实部和虚部创建复数, 内置的<code>real</code>函数和<code>imag</code>函数则分别提取复数的实部和虚部. </p>
<p>如果一个浮点数面值或一个十进制整数面值后面跟着一个<code>i</code>, 例如<code>3.14i</code>或<code>2i</code>, 它将构成一个复数的虚部, 复数的实部是0. </p>
<p>可以用<code>==</code>或<code>!=</code>判断复数是否相等. 若两个复数的实部和虚部都相等, 则它们相等. </p>
<h2 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h2><p><code>bool</code>型的值或布尔值只有两种可能: 真<code>true</code>和假<code>false</code>. 布尔值可以和<code>&amp;&amp;</code>和<code>||</code>操作符结合, 并且会发生短路行为. </p>
<p>布尔值无法隐式转换成数值(如0或1), 反之也不行. </p>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>字符串是不可变的字节序列, 它可以包含任意数据, 包括0值字节. 习惯上, 文本字符串被解读成按<code>UTF-8</code>编码的<code>Unicode</code>码点(文字符号)序列. </p>
<p>内置的<code>len</code>函数返回字符串的字节数(并非文字符号的数目), 下标访问操作<code>s[i]</code>则取的第<code>i</code>个字符, 其中$0 \le i \le len(s)$. 试图访问许可范围以外的字节会触发<code>panic</code>异常. </p>
<p>子串生成操作<code>s[i:j]</code>产生一个新字符串, 内容取自原字符串的字节, 下标从<code>i</code>(含边界值)开始, 直到<code>j</code>(不含边界值). 结果的大小是<code>j-i</code>个字节, 若下标越界, 或者<code>j</code>的值小于<code>i</code>, 将触发<code>panic</code>异常. </p>
<p>操作数<code>i</code>与<code>j</code>的默认值分别是<code>0</code>(字符串起始位置)和<code>len(s)</code>(字符串终止位置), 若省略<code>i</code>或<code>j</code>, 或两者, 则取默认值. </p>
<p>加号<code>(+)</code>运算符连接两个字符串而生成一个新字符串. </p>
<p>字符串可以通过比较运算符做比较, 如<code>==</code>和<code>&lt;</code>; 比较运算按字节进行, 结果服从本身字典排序. </p>
<p>字符串值无法改变, 不可变意味着两个字符串能安全地共用同一段底层内存, 使得复制任何长度字符串的开销都很低廉. </p>
<h3 id="字符串字面量"><a href="#字符串字面量" class="headerlink" title="字符串字面量"></a>字符串字面量</h3><p>字符串的值可以直接写成字符串字面量, 形式上就是带双引号的字节序列. 源码中的字符串也可以包含十六进制或八进制的任意字节. </p>
<p>原生的字符串字面量的书写形式使用反引号而不是双引号. 原生的字符串字面量内, 转义序列不起作用; 实质内容与字面写法严格一致, 包括反斜杠和换行符, 因此, 在程序源码中, 原生的字符串字面量可以展开多行. 唯一的特殊处理是回车符会被删除(换行符会保留), 使得同一字符串在所有平台上的值都是相同的. </p>
<p>正则表达式往往含有大量反斜杠, 可以方便地写成原生的字符串字面量. 原生的字面量也适用于<code>HTML</code>模板, <code>JSON</code>字面量, 命令行提示信息, 以及需要多行文本表达的场景. </p>
<h3 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h3><p>Unicode是一种字符集, 它攘括了世界上所有文书体系的全部字符, 对它们各自赋予一个叫Unicode码点的标准数字. 在<code>Go</code>的术语中, 这些字符记号称为文字符号. </p>
<p>我们可以将文字符号的序列表示成<code>int32</code>值序列, 这种表示方式称作<code>UTF-32</code>或<code>UCS-4</code>, 每个Unicode码点的编码长度相同, 都是32位. </p>
<h3 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a><code>UTF-8</code></h3><p><code>UTF-8</code>以字节为单位对Unicode码点做变长编码. 每个文字字符用<code>1~4</code>个字节表示, <code>ASCII</code>字符的编码仅占1个字节, 而其他常用的文字字符的编码只是2或3个字节. </p>
<p>变长编码的字符串无法按下标直接访问第n个字符. 同时<code>UTF-8</code>编码的顺序和Unicode码点的顺序一致, 因此可以直接排序<code>UTF-8</code>编码. </p>
<p><code>Go</code>语言字符串字面值中的的Unicode转义字符让我们可以通过Unicode码点输入特殊的字符. 有两种形式, <code>\uhhhh</code>表示16位码点值, <code>\uhhhhhhhh</code>表示32位码点值, 其中每个<code>h</code>代表要一个十六进制数值. 这两种形式都以<code>UTF-8</code>编码表示给定的码点. </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;世界&quot;</span><br><span class="line">&quot;\xe4\xb8\x96\xe7\x95\x8c&quot;</span><br><span class="line">&quot;\u4e16\u754c&quot;</span><br><span class="line">&quot;\U00004e16\U0000754c&quot;</span><br><span class="line">&#x27;世&#x27; &#x27;\u4e16&#x27; &#x27;\U00004e16&#x27;</span><br></pre></td></tr></table></figure>

<p>码点值小于256的文字符号可以写成单个十六进制转义的形式, 如<code>A</code>写成<code>\x41</code>; 而更高的码点值则必须使用<code>\u</code>或<code>\U</code>转义. 这就导致<code>&#39;\xe4\xb8\x96\xe7\x95\x8c&#39;</code>不是合法的文字符号, 虽然这三个字节构成了某个有效的<code>UTF-8</code>编码的码点. </p>
<p>所幸, <code>Go</code>的<code>range</code>循环也适用于字符串, 按<code>UTF-8</code>隐式解码. 注意, 对于非<code>ASCII</code>文字符号, 下标增量大于1. </p>
<p>每次<code>UTF-8</code>解码器读入一个不合理的字节, 无论是显式调用<code>utf8.DecodeRuneInString</code>, 还是在<code>range</code>循环内隐式读取, 都会产生一个专门的Unicode字符<code>\uFFFD</code>替换它, 其输出通常是个黑色六角形或类似钻石的形状, 里面有个白色问号. 如果程序碰到这个文字符号值, 通常意味着, 生成字符串数据的系统上游部分在处理文本编码方面存在瑕疵. </p>
<p><code>UTF-8</code>是一种分外便捷的交互格式, 而在程序内部使用文字字符类型可能更加方便, 因为它们大小一致, 便于在数组和<code>slice</code>中用下标访问. </p>
<p>当<code>[]rune</code>转换作用于<code>UTF-8</code>编码字符串时, 返回该字符串的<code>Unicode</code>码点序列.</p>
<p>如果是将一个<code>[]rune</code>类型的Unicode字符<code>slice</code>或数组转为<code>string</code>, 则对它们进行<code>UTF8</code>编码.</p>
<p>将一个整数转型为字符串意思是生成以只包含对应Unicode码点字符的<code>UTF8</code>字符串.</p>
<p>如果对应码点的字符是无效的, 则用<code>\uFFFD</code>无效字符作为替换. </p>
<h3 id="字符串和字节slice"><a href="#字符串和字节slice" class="headerlink" title="字符串和字节slice"></a>字符串和字节<code>slice</code></h3><p>4个标准包对字符串操作特别重要: <code>bytes</code>, <code>strings</code>, <code>strconv</code>和<code>unicode</code>. </p>
<p><code>strings</code>包提供了许多函数, 用于搜索, 替换, 比较, 截断, 拆分和连接字符串. </p>
<p><code>bytes</code>包也有类似的函数, 用于操作字节<code>slice</code>. 由于字符串不可变, 因此按增量方式构建字符串会导致多次内存分配和复制. 在这种情况下, 使用<code>bytes.Buffer</code>类型会更高效. </p>
<p><code>strconv</code>包具备的函数, 主要用于转换布尔值, 整数, 浮点数为与之对应的字符串形式, 或者把字符串转换为布尔值, 整数, 浮点数, 另外还提供了双引号转义相关的转换. </p>
<p><code>unicode</code>包具备判别文字符号特征的函数, 如<code>IsDisgit</code>, <code>IsLetter</code>, <code>IsUpper</code>和<code>IsLower</code>. 每个函数一以单个文字符号值作为参数, 并返回布尔值. 若文字符号是英文字母, 转换函数(如<code>ToUpper</code>和<code>ToLower</code>)将其转换成指定的大小写. 上面所有函数都遵循Unicode标准对字母数字等的分类原则. <code>strings</code>包也有类似的函数, 函数名也是<code>ToUpper</code>和<code>ToLower</code>, 它们对原字符的每个字符做指定变换, 生成并返回一个新字符串. </p>
<p><code>path</code>包和<code>path/filepath</code>包提供提取<code>basename</code>的函数, 用来操作文件路径等具有层次结构的名字. <code>path</code>包处理以斜杠<code>/</code>分段的路径字符串, 不分平台. 它不适用于处理文件名, 却适合其他领域, 像<code>URL</code>地址的路径部分. 相反地, <code>path/filepath</code>包根据宿主平台的规则处理文件名. 例如<code>POSIX</code>系统使用<code>/</code>, 而<code>Microsoft Windows</code>系统使用<code>\</code>. </p>
<p>一个字符串是包含的只读字节数组, 一旦创建, 是不可变的. 相比之下, 一个字节<code>slice</code>的元素则可以自由地修改. </p>
<p>从概念上讲, 一个<code>[]byte(s)</code>转换是分配一个新的字节数组用于保存字符串数据的拷贝, 然后引用这个底层的字节数组. 编译器的优化可以避免在一些场景下分配和复制字符串数据, 但是总的来说需要确保<code>slice</code>变量被修改的情况下, 原始的字符串也不会改变. 将一个字节<code>slice</code>转到字符串<code>string(b)</code>从操作则是构造一个字符串拷贝, 以确保字符串是只读的. </p>
<p><code>bytes</code>包还提供了<code>Buffer</code>类型用于字节<code>slice</code>的缓存. 一个<code>Buufer</code>开始是空的, 但是随着<code>string</code>, <code>byte</code>或<code>[]byte</code>等数据类型的写入可以动态增长, 一个<code>bytes.Buffer</code>变量并不需要处理化, 因为零值也是有效的. </p>
<p>当向<code>bytes.Buffer</code>添加任意字符的<code>UTF0-8</code>编码时, 最好使用<code>bytes.Buffer</code>的<code>WriteRune</code>方法, 但是<code>WriteByte</code>方法对写入类似<code>[</code>和<code>]</code>等<code>ASCII</code>字符则会更加有效. </p>
<h3 id="字符串和数字的相互转换"><a href="#字符串和数字的相互转换" class="headerlink" title="字符串和数字的相互转换"></a>字符串和数字的相互转换</h3><p>要将整数转换成字符串, 一种选择是使用<code>fmt.Sprintf</code>, 另一种做法是用函数<code>strconv.Itoa()</code>. </p>
<p><code>FomatInt</code>和<code>FomatUint</code>可以按不同进制位格式化数字. </p>
<p>如要要将要给字符串解析位整数, 可以使用<code>strconv</code>包的<code>Atoi</code>或<code>ParseInt</code>函数, 还有用于解析无符号整数的<code>ParseUint</code>函数.</p>
<p>有时候也会使用<code>fmt.Scanf</code>来解析输入的字符串和数字, 特别是当字符串和数字混在一行的时候, 它可以灵活处理不完整或不规则的输入. </p>
<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>常量是一种表达式, 其可以保证在编译阶段就可以计算出表达式的值, 并不需要等到运行时, 从而使编译器以知晓其值. 所有常量本质上都是属于基本类型: 布尔型, 字符串或数字. </p>
<p>对于常量操作数, 所有数学运算, 逻辑运算和比较运算的结果依然是常量, 对常量的类型转换操作或以函数调用都是返回常量结果: <code>len</code>, <code>cap</code>, <code>real</code>, <code>imag</code>, <code>complex</code>和<code>unsafe.Sizeof</code>. </p>
<p>因为它们的值是在编译期就确定的, 因此常量可以是构成类型的一部分, 例如用于指定数组类型的长度. </p>
<p>常量声明可以同时指定类型和值, 如果没有显式指定类型, 则类型根据右边的表达式推断. 若同时声明一组变常量, 除了第一项之外, 其他项在等号右侧的表达式都可以省略, 这意味着会复用前面一项的表达式以及类型. </p>
<h3 id="常量生成器iota"><a href="#常量生成器iota" class="headerlink" title="常量生成器iota"></a>常量生成器<code>iota</code></h3><p>常量的声明可以使用常量生成器<code>iota</code>, 它创建一系列相关值, 而不是逐个值显式写出. 常量声明中, <code>iota</code>从<code>0</code>开始取值, 逐项加<code>1</code>. </p>
<h3 id="无类型常量"><a href="#无类型常量" class="headerlink" title="无类型常量"></a>无类型常量</h3><p>常量可以任何基本数据类型, 也包括具名的基本类型, 但是许多常量并没有一个明确的基本类型. 编译器为这些没有明确的基础恶劣性的数字常量提供了比基础类型更高精度的算术运算; 你可以认为至少有256<code>bit</code>的运算精度. 这里有六种未明确类型的常量类型, 分别是无类型的布尔型, 无类型的整数, 无类型的字符, 无类型的浮点数, 无类型的复数, 无类型的字符串. </p>
<p>通过延迟明确常量的具体类型, 无类型的常量不仅可以提供更高的运算精度, 而且可以直接用于更多的表达式而不需要显式地类型转换. </p>
<p>只有常量可以是无类型的. 当一个无类型的常量被赋值给一个变量的时候, 无类型的常量将会被隐式转换为对应的类型, 如果转换合法的话. </p>
<p>对于一个没有显式类型的变量声明语法(包括短变量声明语法), 无类型的常量会被隐式转为默认的变量类型. </p>
<h1 id="常用的方法"><a href="#常用的方法" class="headerlink" title="常用的方法"></a>常用的方法</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打印8位的表示</span></span><br><span class="line">fmt.Printf(&quot;%08b\n&quot;, x)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将一个参数打印多次, <span class="comment">#用来告知是打印前缀</span></span></span><br><span class="line">fmt.Printf(&quot;%d %[1]o %#[1]o %[1]x %#[1]x %#[1]X&quot;)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将浮点数指定输出宽度和数值精度, g, f, e都可以这样</span></span><br><span class="line">fmt.Printf(&quot;%8.3f&quot;)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">给出文字字符的数量</span></span><br><span class="line">utf8.RuneCountInString(s)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">解码出文字字符和文字字符占的字节数</span></span><br><span class="line">utf8.DecodeRuneInString()</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">十六进制数, 字节以空格分隔</span></span><br><span class="line">fmt.Printf(% x, s)</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/20/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/20/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">程序结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-20 22:35:04" itemprop="dateCreated datePublished" datetime="2023-08-20T22:35:04+08:00">2023-08-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-07-20 10:41:58" itemprop="dateModified" datetime="2024-07-20T10:41:58+08:00">2024-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/" itemprop="url" rel="index"><span itemprop="name">Go</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>16 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="程序结构"><a href="#程序结构" class="headerlink" title="程序结构"></a>程序结构</h1><h2 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h2><p><code>Go</code>语言中的函数名, 变量名, 常量名, 类型名, 语句标号和包名等所有的命名, 都遵循一个简单的命名规则: 一个名字必须以一个字母(<code>Unicode</code>字母)或下划线开头, 后面可以跟任意数量的字母, 数字或下滑线. 大写字母和小写字母是不同的: <code>heapSort</code>和<code>HeapSort</code>是两个不同的名字. 名字的长度没有逻辑限制. 在习惯上, <code>Go</code> 语言程序员推荐使用驼峰式命名, 同时缩略词的中每个字母大小写保持一致. </p>
<p><code>Go</code>语言中关键字有25个:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">break default func interface select</span><br><span class="line">case defer go map struct</span><br><span class="line">chan else goto package switch</span><br><span class="line">const fallthrough if range type</span><br><span class="line">continue for import return var</span><br></pre></td></tr></table></figure>

<p><code>Go</code>大约有30多个预定义的名字:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">内建常量: true false iota nil</span><br><span class="line"></span><br><span class="line">内建类型: int int8 int16 int32 int64</span><br><span class="line">		uint uint8 uint16 uint32 uint64 uintptr</span><br><span class="line">		float32 float64 complex128 complex64</span><br><span class="line">		bool type rune string error</span><br><span class="line">		</span><br><span class="line">内建函数: make len cap new append copy close delete</span><br><span class="line">		complex real imag panic recover</span><br></pre></td></tr></table></figure>

<p>如果一个名字是在函数内部定义, 那么它就只能在函数内部有效. 如果是在函数外部定义, 那么将在当前包的所有文件中都可以访问. 名字的开头字母的大小写决定了名字在包外的可见性. 如果一个名字是大写字母开头的, 那么它将是导出的, 也就是说可以被外部的包访问.</p>
<h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><p><code>Go</code>语言主要有四种类型的声明语句: <code>var</code>, <code>const</code>, <code>type</code>和<code>func</code>, 分别对应变量, 常量, 类型和函数实体对象的声明. 程序中包一级的声明一般按照类型, 变量, 常量, 函数的声明语句.</p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p><code>var</code>声明语句可以创建要给特定类型的变量. 一般声明语法如下:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var 变量名称 类型 = 表达式</span><br></pre></td></tr></table></figure>

<p>如果省略的是类型信息, 那么将根据初始化表达式来推导变量的类型信息. 如果初始化表达式被省略, 那么将用零值初始化该变量. 数值类型变量对应的零值是<code>0</code>, 布尔类型变量对应的零值是<code>false</code>, 字符串类型对应的零值是空字符串, 接口或引用类型(包括<code>slice</code>, <code>map</code>, <code>chan</code>和函数)变量对应的零值是<code>nil</code>. 数组或结构体等聚合类型对应的零值是每个元素或字段都是对应该类型的零值. </p>
<p>在包级别声明的变量会在<code>main</code>入口函数执行前完成初始化, 局部变量将在声明语句被执行到的时候完成初始化.</p>
<h3 id="短变量声明"><a href="#短变量声明" class="headerlink" title="短变量声明"></a>短变量声明</h3><p>在函数内部, 有一种称为短变量声明语句的形式可用于声明和初始化局部变量. 它以<code>名字:=表达式</code>形式声明变量, 变量的类型根据表达式来自动推导. </p>
<p>因为简单和灵活的特点, 短变量声明被广泛用于局部变量的声明和初始化. <code>var</code>形式的声明语句往往是用于需要显式指定变量类型的地方, 或者因为变量稍后会被重新赋值而初始值无关紧要的地方.</p>
<p>如果有一些已经在相同的词法域声明过了, 那么短变量声明语句对这些已经声明过的变量就只有赋值行为. 短变量声明语句中至少要声明一个新的变量. </p>
<h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><p>一个指针的值是是一个变量的地址. 并不是每一个值都会有一个内存地址, 但是对于每个变量必然有对应的内存地址. 通过指针, 我们可以直接读或更新对应变量的值, 而不需要知道变量的名字. </p>
<p>如果指针对应的数据类型是<code>*int</code>, 指针被称之为”指向<code>int</code>类型的指针”. 如果指针名字为<code>p</code>, 那么可以说”<code>p</code>指针指向变量<code>x</code>“ , 或者说”<code>p</code>指针保存了<code>x</code>变量的内存地址”. </p>
<p>任何类型的指针的零值都是<code>nil</code>. 如果<code>p != nil</code>测试为真, 那么<code>p</code>是指向某个有效变量. 指针之间也是可以进行相等测试的, 只有当它们指向同一个变量或全部都是<code>nil</code>时才相等. </p>
<p>在<code>Go</code>语言中, 返回函数中局部变量的地址也是安全的.   </p>
<h3 id="new函数"><a href="#new函数" class="headerlink" title="new函数"></a><code>new</code>函数</h3><p>另一个创建变量的方式是调用内建的<code>new</code>函数. 表达式<code>new(T)</code>将创建要给<code>T</code>类型的匿名变量, 初始为<code>T</code>类型的零值, 然后返回变量地址, 返回的指针类型为<code>*T</code>. </p>
<p>用<code>new</code>创建变量和普通变量声明语句方式创建变量没有什么区别, 除了不需要声明一个临时变量. </p>
<p>请谨慎使用大小为<code>0</code>的类型, 因为如果类型的大小为<code>0</code>的话, 可能导致<code>Go</code>语言的自动垃圾回收器有不同的行为. </p>
<h3 id="变量的生命周期"><a href="#变量的生命周期" class="headerlink" title="变量的生命周期"></a>变量的生命周期</h3><p>变量的生命周期指的是在程序运行期间变量有效存在的时间间隔. 对于在包一级声明的变量来说, 它们的生命周期和整个程序的运行周期是一致的. 而相比之下, 在局部变量的生命周期则是动态的: 从每次创建一个新变量的声明语句开始, 直到该变量不再被引用为止,  然后变量的存储空间可能被回收. 函数的参数变量和返回值都是局部变量. 它们在函数每次被调用的时候创建. </p>
<p>函数的有右小括弧也可以另起一行缩进, 同时为了防止编译器在行尾自动插入分号而导致的编译错误, 可以在末尾的参数变量后面显式插入逗号. </p>
<p><code>Go</code>语言的自动垃圾收集器是如何知道一个变量时何时可以被回收的呢? 基本的实现思路是, 从每个包级的变量和每个当前运行函数的每一个局部变量开始, 通过指针或引用的访问路径遍历, 是否可以找到该变量. 如果不存在这样的访问路径, 那么说明该变量时不可达的. </p>
<p>编译器会自动选择在栈上还是在堆上分配局部变量的存储空间, 这个选择并不是由用<code>var</code>还是<code>new</code>声明变量的方式决定的. </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> global *<span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="type">int</span></span><br><span class="line">    x = <span class="number">1</span></span><br><span class="line">    global = &amp;x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">g</span><span class="params">()</span></span> &#123;</span><br><span class="line">    y := <span class="built_in">new</span>(<span class="type">int</span>)</span><br><span class="line">    *y = <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>f</code>函数里的<code>x</code>变量必须在堆上分配, 因为它在函数退出后依然可以通过包一级的<code>global</code>变量找到, 虽然它是在函数内部定义的; 用<code>Go</code>语言的术语来说, 这个<code>x</code>局部变量从函数<code>f</code>中逃逸了. 相反, 当<code>g</code>函数返回时, 变量<code>*y</code>将是不可达的, 也就是说可以马上被回收. 因此, <code>*y</code>并没有从函数<code>g</code>中逃逸, 编译器可以选择在栈上分配<code>*y</code>的存储空间(译注: 也可以选择在堆上分配, 然后由<code>Go</code>语言的<code>GC</code>回收这个变量的内存空间), 虽然这里用的是<code>new</code>方式. 其实在任何时候, 你并不需要为了编写正确的代码而要考虑变量的逃逸行为, 要记住的是, 逃逸的变量需要额外分配内存, 同时对性能的优化可能产生细微的影响. </p>
<p><code>Go</code>语言的自动垃圾收集器对编写正确的代码是一个巨大的帮助, 但也不是说你完全不用考虑内存了. 你虽然不需要显式地分配和释放内存, 但是要编写高效的程序你依然需要了解变量的生命周期. 例如, 如果将指向短生命周期对象保存到具有长生命周期的对象中, 特别是保存到全局变量时, 会阻止对短生命周期对象的垃圾回收(从而可能影响程序的性能). </p>
<h2 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h2><p>使用赋值语句可以更新一个变量的值.</p>
<h3 id="元组赋值"><a href="#元组赋值" class="headerlink" title="元组赋值"></a>元组赋值</h3><p>元组赋值是另一种形式的赋值语句, 它允许同时更新多个变量的值. 在赋值之前, 赋值语句右边的所有表达式将会先进行求值, 然后再统一更新左边对应变量的值. 这对于处理有些同时出现在元组赋值语句左右两边的变量很有帮助, 例如我们可以这样交换两个变量的值: </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x, y = y, x</span><br><span class="line">a[i], a[j] = a[j], a[i]</span><br></pre></td></tr></table></figure>

<p>有些表达式会产生多个值, 比如调用一个有多个返回值的函数. 当这样一个函数调用出现在元组赋值右边的表达式中时(右边不能再有其它表达式), 左边变量的数目必须和右边一致. </p>
<p>通常, 这类函数会用额外的返回值来表达某种错误类型, 例如<code>os.Open</code>是用额外的返回值返回一个<code>error</code>类型的错误, 还有一些是用来返回布尔值, 通常被称为<code>ok</code>. </p>
<p>和变量声明一样, 我们可以用下划线空白标识符<code>_</code>来丢弃不需要的值. </p>
<h3 id="可赋值性"><a href="#可赋值性" class="headerlink" title="可赋值性"></a>可赋值性</h3><p>赋值语句是显式的赋值语句, 但是程序中还有很多地方会发生隐式的赋值行为: 函数调用会隐式地将调用参数的值赋值给函数的参数变量, 一个返回语句将隐式地将返回操作的值赋值给结果变量, 一个复合类型的字面字面量也会产生赋值行为.</p>
<p>不管是隐式还是显式地赋值, 在赋值语句左边的变量和右边最终求得的值必须有相同的数据类型. 更直白地说, 只有右边的值对于左边地变量时可赋值的, 赋值语句才是允许的. </p>
<p>对于两个值是否可以用<code>==</code>或<code>!=</code>进行相等比较的能力也和可赋值能力有关系: 对于任何类型的值的相等比较, 第二个值必须是对第一个变量值类型对应的变量是可赋值的, 反之亦然. </p>
<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><p>变量或表达式的类型定义了对应存储值的属性特征, 例如数值在内存中的存储大小(或者是元素的<code>bit</code>个数), 它们在内部是如何表达的, 是否支持一些操作符, 以及它们自己关联的方法集等.</p>
<p>一个类型声明语句创建了一个新的类型名称, 和现有类型就有相同的底层结构. 新命名提供了一种方式, 用来分隔不同概念的类型, 这样即使它们底层类型相同也是不兼容的. </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type 类型名称 底层类型</span><br></pre></td></tr></table></figure>

<p>由于对于中文汉字, <code>Unicode</code>标志都是作为小写字母处理, 因此中文的命名默认不能导出.</p>
<p>对于每一个类型<code>T</code>, 都有一个对应的类型转换操作<code>T(x)</code>, 用于将<code>x</code>转为<code>T</code>类型(如果<code>T</code>是指针类型, 可能会需要用小括弧包括<code>T</code>, 比如<code>(*int)(0)</code>). 只有当两个类型的底层基础类型相同时, 才能允许这种转型操作, 或者是两者都是指向相同底层结构的指针类型, 这些转换只改变类型而不会影响值本身. </p>
<p>底层数据类型决定了内部结构和表达方式, 也决定是否可以像底层类型一样对内置运算符的支持.</p>
<p>通过<code>==</code>和<code>&lt;</code>之类的比较操作符, 命名类型的值可以与其相同类型的值或者底层类型相同的未命名类型的值相比较. </p>
<h2 id="包和文件"><a href="#包和文件" class="headerlink" title="包和文件"></a>包和文件</h2><p><code>Go</code>语言中的包和其他语言的库或模块的概念类似, 目的都是为了支持模块化, 封装, 单独编译和代码重用. 每个包都对应一个独立的命名空间. </p>
<p>在每个源文件的包声明前紧跟着的注释是包注释. 通常, 包注释的第一句应该是包的功能概要说明. 一个包通常只有一个源文件有包注释. </p>
<h3 id="导入包"><a href="#导入包" class="headerlink" title="导入包"></a>导入包</h3><p>在<code>Go</code>程序语言中, 每个包都是有一个全局唯一的导入路径. 导入语句中类似<code>gopl.io/ch2/tempconv</code>的字符串对应包的导入路径. <code>Go</code>语言的规范并没有定义这些字符串的具体含义或包来自哪里, 它们是由构建工具来解释的. 当使用<code>Go</code>语句自带的<code>go</code>工具箱时, 一个导入路径代表一个目录中的一个或多个<code>Go</code>源文件. </p>
<p>除了包的导入路径, 每个包还有一个包名, 包名一般是短小的名字(并不要求包名是唯一的), 包名在包的声明处指定. 按照惯例, 一个包的名字和包的导入路径的最后一个字段相同. </p>
<p>导入语句将导入的包绑定到一个短小的名字, 然后通过该短小的名字就可以引用包中导出的内容. 在默认情况下, 导入的包绑定到包声明语句指定的名字, 但是我们也可以绑定到另一个名字, 以避免名字冲突. </p>
<p>如果导入了一个包, 但是又没有使用该包将被当作一个编译错误处理. </p>
<h3 id="包的初始化"><a href="#包的初始化" class="headerlink" title="包的初始化"></a>包的初始化</h3><p>包的初始化首先是解决包级变量的依赖顺序, 然后按照包级变量声明出现的顺序依次初始化. </p>
<p>如果包中包含多个<code>.go</code>源文件, 它们将按照发给编译的顺序进行初始化, <code>Go</code>语言的构建工具首先会将<code>.go</code>文件根据文件名排序, 然后依次调用编译器编译. </p>
<p>对于在包级别声明的变量, 如果有初始化表达式则用表达式初始化, 还有一些没有初始化表达式的. 在这种情况下, 我们可以用一个特殊的<code>init</code>初始化函数来简化初始化工作. 每个文件都可以包含多个<code>init</code>初始化函数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样的<code>init</code>初始化函数除了不能被调用或引用之外, 其他行为和普通函数类似. 在每个文件中的<code>init</code>初始化函数, 在程序开始执行时按照它们声明的顺序被自动调用. </p>
<p>每个包在解决依赖的前提下, 以导入声明的顺序初始化, 每个包只会被初始化一次. 初始化工作是自下而上进行的, <code>main</code>包最后被初始化. 以这种形式, 可以确保在<code>main</code>函数执行之前, 所有依赖的包都已经完成初始化工作了. </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  循环的一种写法</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> pc &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 循环的另外一种写法</span></span><br><span class="line"><span class="keyword">for</span> i, _ := <span class="keyword">range</span> pc &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><p>一个声明语句将程序中的实体和一个名字关联, 比如一个函数或一个变量. 声明语句的作用域是指源代码中可以有效使用这个名字的范围. </p>
<p>不要将作用域和生命周期混为一谈. 声明语句的作用域对应的是一个源代码的文本区域; 它是一个编译时的属性. 一个变量的生命周期是指程序运行时变量存在的有效时间段, 在此时区域内它可以被程序的其他部分引用; 是一个运行时的概念. </p>
<p>声明语句对应的词法域决定了作用域范围的大小. 对于内置的类型, 函数和常量, 比如<code>int</code>, <code>len</code>和<code>true</code>等是在全局作用域的, 因此可以在整个程序中直接使用. 任何在函数外部(也就是包级语法域)声明的名字可以在同一个包的任何源文件中访问. 对于导入的包, 则是对应源文件级的作用域, 因此只能在当前的文件中访问导入的包, 当前包的其他源文件无法访问在当前源文件导入的包. 还有许多声明语句, 例如函数中的变量, 则是局部作用域, 它只能在函数内部(甚至只能是局部的某些部分)访问. </p>
<p>当编译器遇到一个名字引用时, 将从最内层的词法域向全局的作用域查找其声明. 如果查找失败, 则报告<code>undeclared name</code>错误; 如果在内层和外层块都存在这个声明, 内层的将先被找到. 在这种情况下, 内层声明将覆盖外部声明, 使它不可访问. </p>
<p>在包级别, 声明的顺序和它们的作用域没有关系, 所以一个声明可以它自己或者跟在它后面的其他声明, 使我们可以声明递归或相互递归的类型和函数. 如果常量或变量声明引用它自己, 则编译器会报错.</p>
<h1 id="常用的函数"><a href="#常用的函数" class="headerlink" title="常用的函数"></a>常用的函数</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">读入命令行参数</span></span><br><span class="line">flag.Bool()</span><br><span class="line">flag.String()</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">用于更新每个标志参数对应变量的值(之前是默认值)</span></span><br><span class="line">flag.parse()</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获得当前的工作目录</span></span><br><span class="line">os.Getwd()</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/19/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Raspberry/Raspberry%E5%88%9D%E5%A7%8B%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/19/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Raspberry/Raspberry%E5%88%9D%E5%A7%8B%E5%8C%96/" class="post-title-link" itemprop="url">Raspberry初始化</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-19 23:37:02" itemprop="dateCreated datePublished" datetime="2023-08-19T23:37:02+08:00">2023-08-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-20 01:48:43" itemprop="dateModified" datetime="2023-08-20T01:48:43+08:00">2023-08-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Raspberry/" itemprop="url" rel="index"><span itemprop="name">Raspberry</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>481</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h1><h2 id="树莓派连接wifi和使用SSH连接树莓派"><a href="#树莓派连接wifi和使用SSH连接树莓派" class="headerlink" title="树莓派连接wifi和使用SSH连接树莓派"></a>树莓派连接<code>wifi</code>和使用<code>SSH</code>连接树莓派</h2><ol>
<li>在<code>SD</code>卡的根目录新建<code>wpa_supplicant.conf</code>文件</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">country=CN</span><br><span class="line">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev</span><br><span class="line">update_config=1</span><br><span class="line"> </span><br><span class="line">network=&#123;</span><br><span class="line">	ssid=&quot;wifi-A&quot;</span><br><span class="line">	psk=&quot;12345678&quot;</span><br><span class="line">	key_mgmt=WPA-PSK</span><br><span class="line">	priority=3</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">network=&#123;</span><br><span class="line">	ssid=&quot;wifi-B&quot;</span><br><span class="line">	psk=&quot;12345678&quot;</span><br><span class="line">	key_mgmt=WPA-PSK</span><br><span class="line">	priority=2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">network=&#123;</span><br><span class="line">	ssid=&quot;wifi-C&quot;</span><br><span class="line">	psk=&quot;12345678&quot;</span><br><span class="line">	key_mgmt=WPA-PSK</span><br><span class="line">	priority=1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>树莓派使用<code>5G</code>的<code>wifi</code>可能出现问题, 建议使用<code>2.4G</code>的<code>wifi</code>. </p>
<p><code>ssid</code>和<code>psk</code>出现特殊字符和中文字符有可能连不上<code>wifi</code>.</p>
<p><code>priority</code>的值越大, 优先级越高.</p>
<p>树莓派启动时会自动把这个文件</p>
<ol start="2">
<li>在<code>SD</code>卡的根目录新建<code>ssh</code>文件, 这个会让树莓派开启<code>ssh</code></li>
</ol>
<p><code>SD</code>不要在在用的时候进行插拔, 很容易损坏</p>
<h2 id="树莓派设置用户和密码"><a href="#树莓派设置用户和密码" class="headerlink" title="树莓派设置用户和密码"></a>树莓派设置用户和密码</h2><p>新的系统不再支持<code>pi&#39;</code>和<code>raspberry</code>, 需要自己往<code>SD</code>中写入东西. 新建<code>userconf</code>, 里面的内容<code>username:encrypted-password</code>.加密的密码用下面的内容生成. </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;mypassword&#x27; | openssl passwd -6 -stdin</span><br></pre></td></tr></table></figure>

<h2 id="初始化root密码"><a href="#初始化root密码" class="headerlink" title="初始化root密码"></a>初始化<code>root</code>密码</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br></pre></td></tr></table></figure>

<h2 id="Linux命令别名和命令颜色显示"><a href="#Linux命令别名和命令颜色显示" class="headerlink" title="Linux命令别名和命令颜色显示"></a><code>Linux</code>命令别名和命令颜色显示</h2><p>修改<code>/etc/bash.bashrc</code>中文件可以对所有的用户生效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">alias ls=&#x27;ls --color=auto&#x27;</span><br><span class="line">alias ll=&#x27;ls -a --color=auto&#x27;</span><br><span class="line">alias grep=&#x27;grep --color=auto&#x27;</span><br><span class="line">alias fgrep=&#x27;fgrep --color=auto&#x27;</span><br><span class="line">alias egrep=&#x27;egrep --color=auto&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="设置VIM"><a href="#设置VIM" class="headerlink" title="设置VIM"></a>设置<code>VIM</code></h2><p>修改<code>/etc/vim/vimrc</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&quot; 设置行号</span><br><span class="line">set nu</span><br><span class="line">&quot; 始终显示状态栏</span><br><span class="line">set laststatus=2</span><br><span class="line">&quot; 高亮当前行</span><br><span class="line">set cul</span><br><span class="line">&quot; 设置tab的大小为4个空格</span><br><span class="line">set tabstop=4</span><br><span class="line">&quot; 回退删除4个空格</span><br><span class="line">set softtabstop=4</span><br><span class="line">&quot; 自动缩进</span><br><span class="line">set autoindent </span><br><span class="line">&quot; 搜索高亮</span><br><span class="line">set hlsearch</span><br><span class="line">&quot; 设置字体和大小</span><br><span class="line">set guifont=Courier\ New:h12</span><br><span class="line">&quot; 设置Vim主题</span><br><span class="line">colorscheme elflord </span><br><span class="line">&quot; 取消回撤文件</span><br><span class="line">set noundofile</span><br><span class="line">&quot; 取消备份文件 </span><br><span class="line">set nobackup</span><br><span class="line">&quot; 取消交换文件</span><br><span class="line">set noswapfile</span><br></pre></td></tr></table></figure>

<h2 id="设置DDNS"><a href="#设置DDNS" class="headerlink" title="设置DDNS"></a>设置<code>DDNS</code></h2><ol>
<li>在阿里云上添加一条<code>AAAA</code>的记录, 下面的<code>ipv6</code>地址随便填, 之后会由<code>DDNS</code>自动刷新</li>
<li>下载<code>github</code>上的<code>DDNS</code>, 填入阿里云的<code>accesskey</code></li>
<li>运行定时任务的脚本</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/17/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/17/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">入门</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-17 23:39:43" itemprop="dateCreated datePublished" datetime="2023-08-17T23:39:43+08:00">2023-08-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-11 22:50:30" itemprop="dateModified" datetime="2024-08-11T22:50:30+08:00">2024-08-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">编程语言</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/" itemprop="url" rel="index"><span itemprop="name">Go</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>15 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>Go</code>语言入门</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/08/17/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Go/%E4%B9%A6%E7%B1%8D/Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/%E5%85%A5%E9%97%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/13/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/Git%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/13/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/Git%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95/" class="post-title-link" itemprop="url">Git进阶用法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-13 23:52:21" itemprop="dateCreated datePublished" datetime="2023-08-13T23:52:21+08:00">2023-08-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-17 23:34:04" itemprop="dateModified" datetime="2023-08-17T23:34:04+08:00">2023-08-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>358</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>Git</code>进阶用法</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/08/13/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/Git%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/06/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/Git%E7%9A%84%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/06/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/Git%E7%9A%84%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Git的使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-06 17:23:08" itemprop="dateCreated datePublished" datetime="2023-08-06T17:23:08+08:00">2023-08-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-08-13 23:22:04" itemprop="dateModified" datetime="2023-08-13T23:22:04+08:00">2023-08-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>8 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>Git</code>的介绍和使用</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/08/06/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Git/Git%E7%9A%84%E4%BD%BF%E7%94%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/08/05/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Docker/Docker%E5%AE%9E%E8%B7%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/08/05/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Docker/Docker%E5%AE%9E%E8%B7%B5/" class="post-title-link" itemprop="url">Docker实践</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-08-05 12:21:40" itemprop="dateCreated datePublished" datetime="2023-08-05T12:21:40+08:00">2023-08-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-10-29 15:32:39" itemprop="dateModified" datetime="2023-10-29T15:32:39+08:00">2023-10-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>434</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>Docker</code>使用的实践</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/08/05/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Docker/Docker%E5%AE%9E%E8%B7%B5/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/30/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Docker/Docker%E7%9A%84%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.svg">
      <meta itemprop="name" content="霄剑">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="space">
      <meta itemprop="description" content="醉后不知天在水,满船清梦压星河">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | space">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/07/30/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Docker/Docker%E7%9A%84%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">docker的使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-07-30 21:21:05" itemprop="dateCreated datePublished" datetime="2023-07-30T21:21:05+08:00">2023-07-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-10-29 16:03:50" itemprop="dateModified" datetime="2023-10-29T16:03:50+08:00">2023-10-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">工具使用</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>12 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p> 介绍<code>Docker</code>以及<code>Docker</code>中常用的命令</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/07/30/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/Docker/Docker%E7%9A%84%E4%BD%BF%E7%94%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-leaf"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">霄剑</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">73k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">4:26</span>
  </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/55OX5XO55" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  





</body>
</html>
